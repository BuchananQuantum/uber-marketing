function initNotifications(){fetchNotificationsCount(),markNotificationsAsRead(),initReactions(),listenForNotificationsBellClick(),initFilter(),initPagination(),initLoadMoreButton()}function markNotificationsAsRead(){setTimeout(function(){document.getElementById("notifications-container")&&getCsrfToken().then(e=>{const t=window.location.pathname.split("/"),n=parseInt(t[t.length-1].replace(/[^0-9]/g,""),10),i={method:"POST",headers:{"X-CSRF-Token":e}};Number.isInteger(n)?fetch(`/notifications/reads?org_id=${n}`,i):fetch("/notifications/reads",i)})},450)}function fetchNotificationsCount(){null==document.getElementById("notifications-container")&&checkUserLoggedIn()&&instantClick&&(InstantClick.removeExpiredKeys("force"),setTimeout(function(){InstantClick.preload(document.getElementById("notifications-link").href,"force")},30))}function initReactions(){setTimeout(function(){if(document.getElementById("notifications-container")){for(var e=document.getElementsByClassName("reaction-button"),t=0;t<e.length;t++){var n=e[t];n.setAttribute("aria-pressed",n.classList.contains("reacted")),n.onclick=function(e){function t(e){"create"===e.result?(n.classList.add("reacted"),n.setAttribute("aria-pressed",!0)):(n.classList.remove("reacted"),n.setAttribute("aria-pressed",!1))}e.preventDefault(),sendHapticMessage("medium");var n=this;n.classList.add("reacted");var i=new FormData;i.append("reactable_type",n.dataset.reactableType),i.append("category",n.dataset.category),i.append("reactable_id",n.dataset.reactableId),getCsrfToken().then(sendFetch("reaction-creation",i)).then(function(e){200===e.status?e.json().then(t):showModalAfterError({response:e,element:"reaction",action_ing:"updating",action_past:"updated"})})}}e=document.getElementsByClassName("toggle-reply-form");for(let t=0;t<e.length;t++){e[t].onclick=function(e){e.preventDefault();var t=this;document.getElementById("comment-form-for-"+t.dataset.reactableId).classList.remove("hidden"),t.classList.add("hidden"),t.classList.remove("inline-flex"),setTimeout(function(){document.getElementById("comment-textarea-for-"+t.dataset.reactableId).focus()},30)}}}},180)}function listenForNotificationsBellClick(){var e=document.getElementById("notifications-link");e&&setTimeout(function(){e.onclick=function(){document.getElementById("notifications-number").classList.add("hidden")}},180)}function initFilter(){const e=document.getElementById("notifications-filter__select"),t=e=>{window.location.href=e.target.value};e&&e.addEventListener("change",t)}function initPagination(){const e=document.getElementsByClassName("notifications-paginator");if(e&&e.length>0){const t=e[e.length-1];t&&window.fetch(t.dataset.paginationPath,{method:"GET",credentials:"same-origin"}).then(function(e){200===e.status&&e.text().then(function(e){const n=e.trim();if(n){const e=document.getElementById("articles-list"),i=document.createElement("div");i.innerHTML=n,t.remove(),e.append(i),initReactions()}else{const e=document.getElementById("load-more-button");e&&(e.style.display="none"),t.remove()}})})}}function initLoadMoreButton(){const e=document.getElementById("load-more-button");e&&e.addEventListener("click",initPagination)}function fetchNext(e,t,n){var i=JSON.parse(e.dataset.params),r=Object.keys(i).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(i[e])}).join("&");if(!(r.indexOf("q=")>-1)){var o=(t+"?page="+nextPage+"&"+r+"&signature="+parseInt(Date.now()/4e5,10)).replace("&&","&");window.fetch(o).then(function(e){e.json().then(function(e){if(nextPage+=1,n(e),0===e.length){const e=document.getElementById("loading-articles");e&&(e.style.display="none"),done=!0}})})["catch"](function(e){console.log(e)})}}function insertNext(e,t){return function(n=[]){document.getElementById(e.listId||"sublist");var i="";n.forEach(function(n){if(!document.getElementById((e.elId||"element")+"-"+n.id)){var r=t(n);i+=r}});var r=document.getElementById("following-wrapper");r&&r.insertAdjacentHTML("beforeend",i),nextPage>0&&(fetching=!1)}}function buildFollowsHTML(e){return'<div class="crayons-card p-4 m:p-6 flex s:grid single-article" id="follows-'+e.id+'"><a href="'+e.path+'" class="crayons-avatar crayons-avatar--2xl s:mb-2 s:mx-auto"><img alt="@'+e.username+' profile image" class="crayons-avatar__image" src="'+e.profile_image+'" /></a><div class="pl-4 s:pl-0 self-center"><h3 class="s:mb-1 p-0"><a href="'+e.path+'">'+e.name+'</a></h3><p class="s:mb-4"><a href="'+e.path+'" class="crayons-link crayons-link--secondary">@'+e.username+"</a></p></div></div>"}function buildTagsHTML(e){var t="";return e.points<0&&(t='<span class="c-indicator c-indicator--danger" title="This tag has negative follow weight">Anti-follow</span>'),`<div class="crayons-card p-4 m:p-6 flex flex-col single-article" id="follows-${e.id}" style="border: 1px solid ${e.color}; box-shadow: 3px 3px 0 ${e.color}">\n    <h3 class="s:mb-1 p-0 fw-medium">\n      <a href="/t/${e.name}" class="crayons-tag crayons-tag--l">\n        <span class="crayons-tag__prefix">#</span>${e.name}\n      </a>\n      ${t}\n    </h3>\n    <p class="grid-cell__summary truncate-at-3"></p>\n    <input name="follows[][id]" id="follow_id_${e.name}" type="hidden" form="follows_update_form" value="${e.id}">\n    <input step="any" class="crayons-textfield flex-1 fs-s" required="required" type="number" form="follows_update_form" value="${e.points}" name="follows[][explicit_points]" id="follow_points_${e.name}" aria-label="${e.name} tag weight">\n  </div>`}function fetchNextFollowingPage(e){var t=JSON.parse(e.dataset.params).action;t.includes("users")?fetchNext(e,"/followings/users",insertNext({elId:"follows"},buildFollowsHTML)):t.includes("podcasts")?fetchNext(e,"/followings/podcasts",insertNext({elId:"follows"},buildFollowsHTML)):t.includes("organizations")?fetchNext(e,"/followings/organizations",insertNext({elId:"follows"},buildFollowsHTML)):fetchNext(e,"/followings/tags",insertNext({elId:"follows"},buildTagsHTML))}function fetchNextFollowersPage(e){fetchNext(e,"/api/followers/users",insertNext({elId:"follows"},buildFollowsHTML))}function buildVideoArticleHTML(e){return`<a href="${e.path}" id="video-article-${e.id}" class="crayons-card media-card">\n    <div class="media-card__artwork">\n      <img src="${e.cloudinary_video_url}" class="w-100 object-cover block aspect-16-9 h-auto" width="320" height="180" alt="${e.title}">\n      <span class="media-card__artwork__badge">${e.video_duration_in_minutes}</span>\n    </div>\n    <div class="media-card__content">\n      <h2 class="fs-base mb-2 fw-medium">${e.title}</h2>\n      <small class="fs-s">\n        ${e.user.name}\n      </small>\n    </div>\n  </a>`}function insertVideos(e){document.getElementById("subvideos");var t="";e.forEach(function(e){if(!document.getElementById("video-article-"+e.id)){var n=buildVideoArticleHTML(e);t+=n}});document.documentElement.scrollHeight,document.body.scrollTop;var n=document.querySelector(".js-video-collection"),i=document.createRange().createContextualFragment(t);n.appendChild(i),nextPage>0&&(fetching=!1)}function fetchNextVideoPage(e){fetchNext(e,"/api/videos",insertVideos)}function insertArticles(e){document.getElementById("substories");var t="",n=document.getElementById("home-articles-object");n&&(n.outerHTML=""),e.forEach(function(e){var n=document.getElementById("article-link-"+e.id);if(!["/","/top/week","/top/month","/top/year","/top/infinity","/latest"].includes(window.location.pathname)&&n&&n.parentElement&&n.parentElement.classList.contains("crayons-story")&&!document.getElementById("video-player-"+e.id))n.parentElement.outerHTML=buildArticleHTML(e);else if(!n){var i=buildArticleHTML(e);t+=i,initializeReadingListIcons()}});document.documentElement.scrollHeight,document.body.scrollTop;var i=document.createElement("div");i.classList.add("paged-stories"),i.innerHTML=t,i.addEventListener("click",e=>{const{classList:t}=e.target;if(t.contains("crayons-story")||t.contains("crayons-story__top")||t.contains("crayons-story__body")||t.contains("crayons-story__indention")||t.contains("crayons-story__title")||t.contains("crayons-story__tags")||t.contains("crayons-story__bottom")){let t=e.target,{articlePath:n}=t.dataset;for(;!n;)n=t.dataset.articlePath,t=t.parentElement;InstantClick.preload(n),InstantClick.display(n)}});var r=document.querySelectorAll(".single-article, .crayons-story");insertAfter(i,r[r.length-1]),nextPage>0&&(fetching=!1)}function paginate(e,t,n){const i=Object.assign({per_page:15,page:nextPage},JSON.parse(t));e&&e.length>0&&(i.tag_names=i.tag_names||[],i.tag_names.push(e)),i.approved="true"===n?"true":"";var r=document.getElementById("index-container");"base-feed"===r.dataset.feed?i.class_name="Article":"latest"===r.dataset.feed?(i.class_name="Article",i.sort_by="published_at"):(i.class_name="Article",i["published_at[gte]"]=r.dataset.articlesSince,i.sort_by="public_reactions_count");const o=new URLSearchParams;Object.keys(i).forEach(e=>{const t=i[e];Array.isArray(t)?t.forEach(t=>{o.append(`${e}[]`,t)}):o.append(e,t)}),fetch(`/search/feed_content?${o.toString()}`,{method:"GET",headers:{Accept:"application/json","X-CSRF-Token":window.csrfToken,"Content-Type":"application/json"},credentials:"same-origin"}).then(e=>e.json()).then(e=>{nextPage+=1,insertArticles(e.result);const t=new CustomEvent("checkBlockedContent");if(window.dispatchEvent(t),initializeReadingListIcons(),0===e.result.length){const e=document.getElementById("loading-articles");e&&(e.style.display="none"),done=!0}})}function fetchNextPageIfNearBottom(){var e=document.getElementById("index-container");if(e&&!document.getElementById("query-wrapper")){var t,n,i=e.dataset.which;"videos"===i?(n=document.getElementById("main-content"),t=function(){fetchNextVideoPage(e)}):"followers"===i?(n=document.getElementById("user-dashboard"),t=function(){fetchNextFollowersPage(e)}):"following"===i?(n=document.getElementById("user-dashboard"),t=function(){fetchNextFollowingPage(e)}):(n=document.getElementById("main-content")||document.getElementById("articles-list"),t=function(){paginate(e.dataset.tag,e.dataset.params,e.dataset.requiresApproval)}),!done&&!fetching&&window.scrollY>n.scrollHeight-3700&&(fetching=!0,t())}}function checkIfNearBottomOfPage(){const e=document.getElementById("loading-articles");document.getElementsByClassName("crayons-story").length<2&&document.getElementsByClassName("single-article").length<2||window.location.search.indexOf("q=")>-1?(e&&(e.style.display="none"),done=!0):e&&(e.style.display="block"),fetchNextPageIfNearBottom(),setInterval(function(){fetchNextPageIfNearBottom()},210)}function initScrolling(){document.getElementById("index-container")&&(initScrolling.called=!0,checkIfNearBottomOfPage())}function initializeAllTagEditButtons(){var e=document.getElementById("tag-edit-button"),t=document.getElementById("tag-admin-button"),n=userData();n.admin&&t&&(t.style.display="inline-block",document.getElementById("tag-admin-button").style.display="inline-block"),n&&e&&(n.moderator_for_tags.indexOf(e.dataset.tag)>-1||n.admin)&&(e.style.display="inline-block",document.getElementById("tag-mod-button").style.display="inline-block")}function archivedPosts(){return document.getElementsByClassName("story-archived")}function showArchivedPosts(){for(var e=archivedPosts(),t=0;t<e.length;t+=1)e[t].classList.remove("hidden")}function hideArchivedPosts(){for(var e=archivedPosts(),t=0;t<e.length;t+=1)e[t].classList.add("hidden")}function toggleArchivedPosts(e){e.preventDefault();var t=e.target;t.innerHTML.match(/Show/)?(t.innerHTML="Hide archived",showArchivedPosts()):(t.innerHTML="Show archived",hideArchivedPosts())}function initializeArchivedPostFilter(){var e=document.getElementById("toggleArchivedLink");e&&e.addEventListener("click",toggleArchivedPosts)}function initializeArticleDate(){addLocalizedDateTimeToElementsTitles(document.querySelectorAll(".crayons-story time, article time, .single-other-article time"),"datetime")}function setReactionCount(e,t){var n=document.getElementById("reaction-butt-"+e).classList,i=document.getElementById("reaction-number-"+e);t>0?(n.add("activated"),i.textContent=t):(n.remove("activated"),i.textContent="0")}function showUserReaction(e,t){const n=document.getElementById("reaction-butt-"+e);n.classList.add("user-activated",t),n.setAttribute("aria-pressed","true")}function hideUserReaction(e){const t=document.getElementById("reaction-butt-"+e);t.classList.remove("user-activated","user-animated"),t.setAttribute("aria-pressed","false")}function hasUserReacted(e){return document.getElementById("reaction-butt-"+e).classList.contains("user-activated")}function getNumReactions(e){const t=document.getElementById("reaction-number-"+e);return t&&""!==t.textContent?parseInt(t.textContent,10):0}function reactToArticle(e,t){function n(){var e=getNumReactions(t);hasUserReacted(t)?(hideUserReaction(t),setReactionCount(t,e-1)):(showUserReaction(t,"user-animated"),setReactionCount(t,e+1))}function i(){var n=new FormData;return n.append("reactable_type","Article"),n.append("reactable_id",e),n.append("category",t),n}var r=document.body.getAttribute("data-user-status");sendHapticMessage("medium"),"logged-out"!==r?(n(),document.getElementById("reaction-butt-"+t).disabled=!0,getCsrfToken().then(sendFetch("reaction-creation",i())).then(e=>200===e.status?e.json().then(()=>{document.getElementById("reaction-butt-"+t).disabled=!1}):(n(),document.getElementById("reaction-butt-"+t).disabled=!1,showModalAfterError({response:e,element:"reaction",action_ing:"updating",action_past:"updated"}),undefined))["catch"](()=>{n(),document.getElementById("reaction-butt-"+t).disabled=!1})):showLoginModal()}function setCollectionFunctionality(){if(document.getElementById("collection-link-inbetween"))for(var e=document.getElementsByClassName("series-switcher__link--inbetween"),t=e.length,n=0;n<e.length;n+=1)e[n].onclick=(n=>{n.preventDefault();for(var i=document.getElementsByClassName("series-switcher__link--hidden"),r=i.length,o=0;o<r;o+=1)i[0].classList.remove("series-switcher__link--hidden");for(var a=0;a<t;a+=1)e[0].className="series-switcher__link--hidden"})}function requestReactionCounts(e){var t;(t=new XMLHttpRequest).onreadystatechange=(()=>{if(t.readyState===XMLHttpRequest.DONE){var e=JSON.parse(t.response);e.article_reaction_counts.forEach(e=>{setReactionCount(e.category,e.count)}),e.reactions.forEach(e=>{document.getElementById("reaction-butt-"+e.category)&&showUserReaction(e.category,"not-user-animated")})}}),t.open("GET","/reactions?article_id="+e,!0),t.send()}function initializeArticleReactions(){setCollectionFunctionality(),setTimeout(()=>{var e=document.getElementsByClassName("crayons-reaction");if(document.getElementById("article-body")&&e.length>0){var t=document.getElementById("article-body").dataset.articleId;requestReactionCounts(t);for(var n=0;n<e.length;n+=1)e[n].onclick=function(){reactToArticle(t,this.dataset.category)}}},3)}function initializeBaseTracking(){var e=0,t=!1,n=document.body.dataset.gaTracking;if(n){var i=setInterval(function(){var r,o,a,s,c,l,d;t||(r=window,o=document,a="script",s="//www.google-analytics.com/analytics.js",c="ga",r.GoogleAnalyticsObject=c,r[c]=r[c]||function(){(r[c].q=r[c].q||[]).push(arguments)},r[c].l=1*new Date,l=o.createElement(a),d=o.getElementsByTagName(a)[0],l.async=1,l.src=s,d.parentNode.insertBefore(l,d)),t=!0,e++,window.ga&&ga.create&&(ga("create",n,"auto"),ga("set","anonymizeIp",!0),ga("send","pageview",location.pathname+location.search),clearInterval(i)),e>85&&(clearInterval(i),fallbackActivityRecording())},25);eventListening()}trackCustomImpressions()}function fallbackActivityRecording(){var e=document.querySelector("meta[name='csrf-token']");if(e){var t=e.getAttribute("content"),n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),r=window.screen.availWidth,o=window.screen.availHeight,a={path:location.pathname+location.search,user_language:navigator.language,referrer:document.referrer,user_agent:navigator.userAgent,viewport_size:i+"x"+n,screen_resolution:o+"x"+r,document_title:document.title,document_encoding:document.characterSet,document_path:location.pathname+location.search};window.fetch("/fallback_activity_recorder",{method:"POST",headers:{Accept:"application/json","X-CSRF-Token":t},body:JSON.stringify(a),credentials:"same-origin"})}}function eventListening(){var e=document.getElementById("cta-comment-register-now-link");e&&(e.onclick=function(){ga("send","event","click","register-now-click",null,null)})}function trackCustomImpressions(){setTimeout(function(){var e=document.getElementById("article-body")||document.getElementById("comment-article-indicator"),t=document.querySelector("meta[name='csrf-token']"),n=/bot|google|baidu|bing|msn|duckduckbot|teoma|slurp|yandex/i.test(navigator.userAgent),i=window.innerWidth>1023,r=document.getElementById("article-show-primary-sticky-nav"),o=document.getElementById("html-variant-article-show-sidebar");if(o&&e&&t&&!n&&i){var a={html_variant_id:o.dataset.variantId,article_id:e.dataset.articleId},s=t.getAttribute("content");trackHTMLVariantTrial(a,s);for(var c=r.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}var d=document.getElementById("html-variant-article-show-below-article");if(d&&e&&t&&!n&&i){a={html_variant_id:d.dataset.variantId,article_id:e.dataset.articleId},s=t.getAttribute("content");trackHTMLVariantTrial(a,s);for(c=d.querySelectorAll("a,button"),l=0;l<c.length;l++)c[l].addEventListener("click",function(){trackHtmlVariantSuccess(a,s)})}if(e&&t&&!n){var u=Math.floor(10*Math.random());if(!checkUserLoggedIn()&&1!=u)return;a={article_id:e.dataset.articleId,referrer:document.referrer,user_agent:navigator.userAgent},s=t.getAttribute("content");trackPageView(a,s);var m=0,h=setInterval(function(){m++;var e=document.getElementById("article-body")||document.getElementById("comment-article-indicator");e&&checkUserLoggedIn()?trackFifteenSecondsOnPage(e.dataset.articleId,s):clearInterval(h),m>118&&clearInterval(h)},15e3)}var p=document.querySelectorAll("[data-display-unit]");if(p.length>0&&t&&!n&&i&&checkUserLoggedIn()){s=t.getAttribute("content");p.forEach(e=>{trackAdImpression(s,e),e.removeEventListener("click",trackAdClick,!1),e.addEventListener("click",function(e){trackAdClick(s,e.target)})})}},1800)}function trackHTMLVariantTrial(e,t){1===Math.floor(10*Math.random())&&window.fetch("/html_variant_trials",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackHtmlVariantSuccess(e,t){window.fetch("/html_variant_successes",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackPageView(e,t){window.fetch("/page_views",{method:"POST",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"same-origin"})}function trackFifteenSecondsOnPage(e,t){window.fetch("/page_views/"+e,{method:"PATCH",headers:{"X-CSRF-Token":t,"Content-Type":"application/json"},credentials:"same-origin"})["catch"](e=>console.error(e))}function trackAdImpression(e,t){var n={display_ad_event:{display_ad_id:t.dataset.id,context_type:"home",category:"impression"}};window.fetch("/display_ad_events",{method:"POST",headers:{"X-CSRF-Token":e,"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"same-origin"})["catch"](e=>console.error(e))}function trackAdClick(e,t){var n=t.closest("[data-display-unit]");if(!adClicked){var i={display_ad_event:{display_ad_id:n.dataset.id,context_type:"home",category:"click"}};window.fetch("/display_ad_events",{method:"POST",headers:{"X-CSRF-Token":e,"Content-Type":"application/json"},body:JSON.stringify(i),credentials:"same-origin"})}adClicked=!0}function initializeProfileImage(e){document.getElementById("comment-primary-user-profile--avatar")&&(document.getElementById("comment-primary-user-profile--avatar").src=e.profile_image_90)}function addRelevantButtonsToArticle(e){var t=document.getElementById("article-show-container");if(t&&"true"!==t.dataset.buttonsInitialized){let n=[];const i=JSON.parse(t.dataset.published);if(parseInt(t.dataset.authorId,10)===e.id){n.push(`<a class="crayons-btn crayons-btn--s crayons-btn--ghost px-2" href="${t.dataset.path}/edit" rel="nofollow">Edit</a>`);let e=document.getElementById("author-click-to-edit");e&&(e.style.display="inline-block"),!0===i&&n.push(`<a class="crayons-btn crayons-btn--s crayons-btn--ghost px-2" href="${t.dataset.path}/manage" rel="nofollow">Manage</a>`),n.push(`<a class="crayons-btn crayons-btn--s crayons-btn--ghost px-2" href="${t.dataset.path}/stats" rel="nofollow">Stats</a>`)}const{articleId:r,pinnedArticleId:o}=t.dataset;e.admin&&n.push(`<a class="crayons-btn crayons-btn--s crayons-btn--ghost px-2" href="/admin/content_manager/articles/${r}" data-no-instant>Admin</a>`),document.getElementById("action-space").innerHTML=n.join(""),t.dataset.buttonsInitialized="true"}}function addRelevantButtonsToComments(e){if(document.getElementById("comments-container")){var t=document.getElementsByClassName("comment-actions");for(let n=0;n<t.length;n+=1){let i=t[n];const{action:r,commentableUserId:o,userId:a}=i.dataset;parseInt(a,10)===e.id&&"settings-button"===r&&(i.innerHTML='<a href="'+i.dataset.path+'" rel="nofollow" class="crayons-link crayons-link--block" data-no-instant>Settings</a>',i.classList.remove("hidden"),i.classList.add("block")),"hide-button"===r&&parseInt(o,10)===e.id&&(i.classList.remove("hidden"),i.classList.add("block"))}if(e.trusted){var n=document.getElementsByClassName("mod-actions");for(let e=0;e<n.length;e+=1){let t=n[e];t.classList.contains("mod-actions-comment-button")&&(t.innerHTML='<a href="'+t.dataset.path+'" rel="nofollow" class="crayons-link crayons-link--block">Moderate</a>'),t.className="mod-actions",t.classList.remove("hidden"),t.classList.add("block")}}}}function setCurrentUserToNavBar(e){const t=document.getElementById("first-nav-link");t.href=`/${e.username}`,t.getElementsByTagName("span")[0].textContent=e.name,t.getElementsByTagName("small")[0].textContent=`@${e.username}`,document.getElementById("nav-profile-image").src=e.profile_image_90,e.admin&&document.getElementsByClassName("js-header-menu-admin-link")[0].classList.remove("hidden")}function initializeBaseUserData(){const e=userData();setCurrentUserToNavBar(e),initializeProfileImage(e),addRelevantButtonsToArticle(e),addRelevantButtonsToComments(e)}function removeExistingCSRF(){var e=document.querySelector("meta[name='csrf-token']"),t=document.querySelector("meta[name='csrf-param']");e&&t&&(e.parentNode.removeChild(e),t.parentNode.removeChild(t))}function fetchBaseData(){fetch("/async_info/base_data").then(e=>e.json()).then(({token:e,param:t,broadcast:n,user:i,creator:r})=>{e&&removeExistingCSRF();const o=document.createElement("meta");o.name="csrf-param",o.content=t,document.head.appendChild(o);const a=document.createElement("meta");a.name="csrf-token",a.content=e,document.head.appendChild(a),document.body.dataset.loaded="true",n&&(document.body.dataset.broadcast=n),checkUserLoggedIn()?(document.body.dataset.user=i,document.body.dataset.creator=r,browserStoreCache("set",i),setTimeout(()=>{"function"==typeof ga&&ga("set","userId",JSON.parse(i).id)},400)):(delete document.body.dataset.user,delete document.body.dataset.creator,browserStoreCache("remove"))})}function initializeBodyData(){fetchBaseData()}function broadcastData(){const{broadcast:e=null}=document.body.dataset;return JSON.parse(e)}function camelizedBroadcastKey(e){return`${e.replace(/\W+(.)/g,(e,t)=>t.toUpperCase())}Seen`}function addCloseButtonClickHandle(e){document.getElementsByClassName("close-announcement-button")[0].onclick=(()=>{localStorage.setItem(camelizedBroadcastKey(e),!0),document.getElementById("active-broadcast").remove()})}function renderBroadcast(e,t){const{banner_class:n,html:i,title:r}=t;if(n){const[t,i]=n.split(" ");i?e.classList.add(t,i):e.classList.add(t)}const o='<button class="close-announcement-button crayons-btn crayons-btn--icon-rounded crayons-btn--inverted crayons-btn--ghost">\n    <svg class="crayons-icon" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636l4.95 4.95z" /></svg>\n  </button>';e.insertAdjacentHTML("afterbegin",`<div class='broadcast-data'>${i}</div>${o}`),addCloseButtonClickHandle(r),e.classList.add("broadcast-visible")}function initializeBroadcast(){const e=window.location.pathname.match(/^(?:\/connect|\/new)/);if(window.frameElement||e){const e=document.getElementById("active-broadcast");return void(e&&e.classList.remove("broadcast-visible"))}const t=userData(),n=broadcastData();if(t&&!t.display_announcements)return;if(!n)return;const{title:i}=n;if(!0===JSON.parse(localStorage.getItem(camelizedBroadcastKey(i))))return;const r=document.getElementById("active-broadcast");r.firstElementChild?r.classList.contains("broadcast-visible")||r.classList.toggle("broadcast-visible"):renderBroadcast(r,n)}function initializeCommentDate(){addLocalizedDateTimeToElementsTitles(document.querySelectorAll(".comment-date time"),"datetime")}function getAndShowPreview(e,t){function n(){const e=document.createElement("script");return e.src="https://platform.twitter.com/widgets.js",e.async=!0,document.body.appendChild(e),()=>{document.body.removeChild(e)}}function i(t){e.innerHTML=t.processed_html,t.processed_html.includes("twitter-timeline")&&n(),activateRunkitTags()}const r=JSON.stringify({comment:{body_markdown:t.value}});getCsrfToken().then(sendFetch("comment-preview",r)).then(e=>e.json()).then(i)["catch"](e=>{console.log("error!"),console.log(e)})}function handleCommentPreview(e){e.preventDefault();const{form:t}=e.target,n=t.getElementsByClassName("comment-textarea")[0],i=t.getElementsByClassName("comment-form__preview")[0],r=t.getElementsByClassName("preview-toggle")[0];if(""!==n.value)if(t.classList.contains("preview-open"))t.classList.toggle("preview-open"),r.innerHTML="Preview";else{getAndShowPreview(i,n);const e=n.offsetHeight+43;i.style.minHeight=`${e}px`,r.innerHTML="Continue editing",t.classList.toggle("preview-open")}}function initializeCommentPreview(){const e=document.getElementsByClassName("preview-toggle")[0];e&&e.addEventListener("click",handleCommentPreview)}function initializeCommentsPage(){if(document.getElementById("comments-container")){toggleCodeOfConduct();var e=document.body.getAttribute("data-user-status"),t=document.getElementById("comments-container").dataset.commentableId,n=document.getElementById("comments-container").dataset.commentableType,i=document.getElementById("comments-container").dataset.hasRecentCommentActivity;if(commentableIdList=t.split(","),"logged-in"===e||"false"!==i)(function(){for(var e=0;e<commentableIdList.length;e++)!function(e){var t;(t=new XMLHttpRequest).onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE){for(var e=JSON.parse(t.response),n=e.reactions,i=document.getElementsByClassName("single-comment-node"),r=e.public_reaction_counts,o=0;o<n.length;o++){(a=document.getElementById("button-for-comment-"+n[o].reactable_id))&&(a.classList.add("reacted"),a.setAttribute("aria-pressed","true"))}for(o=0;o<r.length;o++){var a;if(a=document.getElementById("button-for-comment-"+r[o].id)){var s=a.querySelector(".reactions-count"),c=a.querySelector(".reactions-label");r[o].count>0?(r[o].count>1?c.innerHTML=`&nbsp;${I18n.t("core.like").toLowerCase()}s`:c.innerHTML=`&nbsp;${I18n.t("core.like").toLowerCase()}`,s.id="reactions-count-"+r[o].id,s.innerHTML=r[o].count,s.classList.remove("hidden")):(s.classList.add("hidden"),s.innerHTML="0"),a.classList.contains("reacted")||a.setAttribute("aria-pressed","false")}}for(o=0;o<i.length;o++)if(i[o].dataset.commentAuthorId==e.current_user.id){i[o].dataset.currentUserComment="true";var l=i[o].dataset.path,d=i[o].querySelector(".current-user-actions"),u=document.getElementById("button-for-comment-"+i[o].dataset.commentId);d&&u&&(d.innerHTML=`<li><a href="${l}/edit" class="crayons-link crayons-link--block" aria-label="Edit this comment">Edit</a></li>\n                                                <li><a data-no-instant href="${l}/delete_confirm" class="edit-butt crayons-link crayons-link--block" aria-label="Delete this comment">Delete</a></li>`,d.classList.remove("hidden"))}}},t.open("GET","/reactions?commentable_id="+commentableIdList[e]+"&commentable_type="+n,!0),t.send()}(e)})();for(var r=document.getElementsByClassName("reaction-button"),o=0;o<r.length;o++){r[o].onclick=function(e){function t(e){var t=n.querySelector(".reactions-count"),i=n.querySelector(".reactions-label");"create"===e.result?(n.classList.add("reacted"),n.setAttribute("aria-pressed","true"),t&&(t.innerHTML=parseInt(t.innerHTML)+1,t.classList.remove("hidden"),1==parseInt(t.innerHTML)?i.innerHTML="&nbsp;like":parseInt(t.innerHTML)>1&&(i.innerHTML="&nbsp;likes"))):(n.classList.remove("reacted"),n.setAttribute("aria-pressed","false"),t&&(t.innerHTML=parseInt(t.innerHTML)-1,0==parseInt(t.innerHTML)&&(t.classList.add("hidden"),i.innerHTML="Like")))}var n=this;if(e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==document.body.getAttribute("data-user-status")){n.classList.add("reacted"),n.disabled=!0;var i=new FormData;i.append("reactable_type","Comment"),i.append("reactable_id",n.dataset.commentId),getCsrfToken().then(sendFetch("reaction-creation",i)).then(function(e){n.disabled=!1,200===e.status?e.json().then(t):showModalAfterError({response:e,element:"reaction",action_ing:"making",action_past:"made"})})}else showLoginModal()}}var a=document.getElementsByClassName("toggle-reply-form");for(o=0;o<a.length;o++){a[o].onclick=function(e){if(e.preventDefault(),e.target.classList.contains("thread-indication"))return!1;if("logged-out"!=document.body.getAttribute("data-user-status")){var i=e.target.closest(".comment").dataset.commentId,r=setInterval(function(){document.querySelector("meta[name='csrf-token']")&&(clearInterval(r),commentWrapper=e.target.closest(".comment__details"),commentWrapper.classList.add("replying"),commentWrapper.innerHTML+=buildCommentFormHTML(t,n,i),initializeCommentsPage(),setTimeout(function(){commentWrapper.getElementsByTagName("textarea")[0].focus()},30))},1);return!1}showLoginModal()}}document.getElementById("new_comment")&&document.getElementById("new_comment").addEventListener("submit",handleCommentSubmit)}listenForDetailsToggle(),handleHiddenComments(n)}function toggleCodeOfConduct(){var e=userData();if(e){var t=e.checked_code_of_conduct,n=document.getElementById("toggle-code-of-conduct-checkbox");n&&!t&&(n.innerHTML='<input type="checkbox" name="checked_code_of_conduct" class="checkbox" required/>                                  <label for="checked_code_of_conduct">I\'ve read the <a href="/code-of-conduct">code of conduct</a></label>')}}function handleCommentSubmit(e){e.preventDefault();var t=e.target;t.classList.add("submitting");var n=t.getElementsByClassName("comment-textarea")[0];n&&(n.style.height=null,n.blur());var i=document.getElementById("comment-node-"+e.target.dataset.commentId),r=t.querySelector("#comment_parent_id"),o=JSON.stringify({comment:{body_markdown:t.getElementsByTagName("textarea")[0].value,commentable_id:t.querySelector("#comment_commentable_id").value,commentable_type:t.querySelector("#comment_commentable_type").value,parent_id:r?r.value:null}});return getCsrfToken().then(sendFetch("comment-creation",o)).then(function(n){return 200!==n.status?(t.classList.remove("submitting"),showModalAfterError({response:n,element:"comment",action_ing:"posting",action_past:"posted"}),!1):(n.json().then(function(n){var r=document.createElement("div");r.innerHTML=buildCommentHTML(n);var o=document.body,a=JSON.parse(o.getAttribute("data-user"));a.checked_code_of_conduct=!0,o.dataset.user=JSON.stringify(a);var s=t.getElementsByClassName("code-of-conduct")[0];s&&(s.innerHTML="");var c=document.getElementById("new_comment");if(i){if(handleFormClose(e),n.depth>3){var l=i.getElementsByClassName("toggle-reply-form")[0],d=`<span class="fs-s inline-flex items-center fs-italic color-base-50 pl-1">${iconSmallThread}Thread</span>`;l.classList.replace("inline-flex","hidden"),l.parentNode.innerHTML+=d}var u=i.getElementsByClassName("comment__inner")[0];u.parentNode.insertBefore(r,u.nextSibling)}else if(c){(c=document.getElementById("new_comment")).classList.remove("submitting"),c.classList.remove("preview-open");const e=[...t.getElementsByClassName("comment-textarea")]
;e[0].closest(".comment-form").classList.remove("comment-form--initiated"),e.forEach(e=>{e.value=n.comment_template||"",e.style.height=null});const i=document.getElementById("preview-div"),o=document.querySelector(".preview-toggle");i.innerHTML="",o.innerHTML="Preview";const a=document.getElementById("comment-trees-container");a.insertBefore(r,a.firstChild)}else if(document.getElementById("notifications-container")){var m=document.createElement("span");m.innerHTML='<div class="crayons-notice align-center p-2 m-2 crayons-notice--success reply-sent-notice reply-sent-notice" aria-live="polite">Reply sent \u2014 <a href="'+n.url+'">Check it out</a></div>',t.replaceWith(m)}else window.location.replace(n.url);updateCommentsCount(),initializeCommentsPage(),initializeCommentDate(),activateRunkitTags()}),!1)}),!1}function handleFocus(e){handleButtonsActivation(e);var t=document.body.getAttribute("data-user-status"),n=e.target;if("logged-out"==t)e.preventDefault(),showLoginModal(),n.blur();else{var i=e.target.closest(".comment-form");i&&i.classList.add("comment-form--initiated"),handleSizeChange(e),window.Forem.initializeMentionAutocompleteTextArea(n)}}function handleKeyUp(e){handleSizeChange(e),handleButtonsActivation(e)}function handleSubmit(e){var t=userData();t&&(t.checked_code_of_conduct&&""!==e.target.value.trim()&&e.target.closest("form").querySelector('button[type="submit"]').click())}function handleBoldAndItalic(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),i=t.selectionStart,r=e.keyCode===KEY_CODE_B?"**":"_";replaceSelectedText(t,`${r}${n}${r}`);var o=i+r.length;t.setSelectionRange(o,o+n.length)}function handleLink(e){var t=e.target,n=t.value.substring(t.selectionStart,t.selectionEnd),i=t.selectionStart;replaceSelectedText(t,`[${n}](url)`);var r=i+n.length+3,o=r+3;t.setSelectionRange(r,o)}function replaceSelectedText(e,t){document.execCommand("insertText",!1,t)||"function"==typeof e.setRangeText&&e.setRangeText(t)}function handleKeyDown(e){if(Runtime.hasOSSpecificModifier(e))switch(e.keyCode){case KEY_CODE_B:case KEY_CODE_I:e.preventDefault(),handleBoldAndItalic(e);break;case KEY_CODE_K:e.preventDefault(),handleLink(e);break;case ENTER_KEY_CODE:e.preventDefault(),handleSubmit(e)}}function handleFormClose(e){e.target.closest(".inner-comment").classList.remove("replying"),e.target.closest(".comment-form").remove(),initializeCommentsPage()}function handleSizeChange(e){var t=e.target,n=parseInt(t.style.height.replace("px",""));t.style.height=t.scrollHeight+(t.scrollHeight>n?15:0)+"px"}function handleButtonsActivation(e){var t=e.target;if(t.closest(".comment-form")){var n=t.closest(".comment-form").getElementsByClassName("js-btn-enable");Array.from(n).forEach(function(e){e.disabled=0===t.value.length})}}function validateField(e){""!==e.target.form.querySelector(".comment-textarea:not([role=combobox])").value||e.preventDefault()}function handleChange(e){handleButtonsActivation(e)}function generateUploadFormdata(e){var t=document.querySelector("meta[name='csrf-token']").content,n=new FormData;return n.append("authenticity_token",t),n.append("image",e[0]),n}function handleImageUpload(e,t){document.getElementById("comments-container").dataset.commentableId;e.preventDefault(),document.getElementById("image-upload-"+t).click(),document.getElementById("image-upload-"+t).onchange=function(){document.getElementById("image-upload-"+t).files.length>0&&(document.getElementById("image-upload-file-label-"+t).style.color="#888888",document.getElementById("image-upload-file-label-"+t).innerHTML="Uploading...",document.getElementById("image-upload-submit-"+t).value="uploading",setTimeout(function(){document.getElementById("image-upload-submit-"+t).click(function(){})},50))},document.getElementById("image-upload-submit-"+t).onclick=function(e){e.preventDefault();var n=document.getElementById("image-upload-"+t).files;n.length>0&&getCsrfToken().then(sendFetch("image-upload",generateUploadFormdata(n))).then(function(e){200===e.status?e.json().then(function(e){var n=document.getElementById("uploaded-image-"+t),i=(document.getElementById("image-upload-button-"+t),document.getElementById("image-upload-file-label-"+t));i.style.display="none",n.value=e.links[0],n.classList.remove("hidden"),n.select();var r="Uploaded! Paste into editor";i.innerHTML=r,i.style.color="#00c673",i.style.position="relative",i.style.top="5px"}):429===e.status?showRateLimitModal({response:e,element:"image",action_ing:"uploading",action_past:"uploaded"}):e.json().then(function(e){var n=e.error||"Invalid file!";document.getElementById("image-upload-file-label-"+t).innerHTML=n,document.getElementById("image-upload-file-label-"+t).style.color="#e05252",document.getElementById("image-upload-submit-"+t).style.display="none"})})["catch"](function(){})}}function updateItemSummaryHtml(e){var t=e.getElementsByClassName("js-collapse-comment-content")[0],n=e.getElementsByClassName("js-comment-username"),i="";n.length>1&&(i=" + "+(n.length-1)+" replies");var r=n[0].textContent+i;e.open?t.innerHTML="":t.innerHTML=r}function listenForDetailsToggle(){for(var e=document.querySelectorAll(".js-comment-wrapper"),t=0;t<e.length;t++)e[t].addEventListener("toggle",e=>{updateItemSummaryHtml(e.target)})}function updateCommentsCount(){const e=document.querySelector(".js-comments-count");if(!e)return;const t=parseInt(e.dataset.commentsCount,10)+1;e.dataset.commentsCount=t,e.innerHTML=`(${t})`}function handleHiddenComments(e){const t=userData(),n=[];let i="";if("Article"===e){const e=document.querySelector("#article-show-container");if(e)e.dataset&&(n.push(e.dataset.authorId),(i=e.dataset.coAuthorIds)&&i.split(",").forEach(e=>{n.push(e)}));else{const e=document.querySelector("#comments-container");e&&e.dataset&&(n.push(e.dataset.commentableAuthorId),(i=e.dataset.commentableCoAuthorIds)&&i.split(",").forEach(e=>{n.push(e)}))}}else if("PodcastEpisode"===e){const e=document.querySelector(".podcast-episode-container");e&&n.push(e.dataset.creatorId)}t&&n.includes(t.id.toString())?collapseCommentsHiddenByCommentableUser():(document.querySelectorAll(".element-hidden-by-commentable-user").forEach(e=>{e.classList.add("hidden")}),document.querySelectorAll(".comment-hidden-by-author-text").forEach(e=>{e.classList.remove("hidden")}))}function collapseCommentsHiddenByCommentableUser(){document.querySelectorAll(".js-comment-wrapper.details-comment-hidden-by-commentable-user").forEach(e=>{0===e.querySelectorAll(".comment-form").length&&(e.open=!1,updateItemSummaryHtml(e))})}function initializeCreditsPage(){localizeTimeElements(document.querySelectorAll(".ledger time"),{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}function selectNavigation(e,t){const n=document.getElementById(e);n&&n.addEventListener("change",e=>{let n=e.target.value;t&&(n=t+n),InstantClick.preload(n),InstantClick.display(n)})}function initializeDashboardSort(){selectNavigation("dashboard_sort","/dashboard?sort="),selectNavigation("dashboard_author"),selectNavigation("mobile_nav_dashboard")}function initializeDateHelpers(){localizeTimeElements(document.querySelectorAll("time.date-no-year"),{month:"short",day:"numeric"}),localizeTimeElements(document.querySelectorAll("time.date"),{year:"numeric",month:"short",day:"numeric"})}function initializeDrawerSliders(){document.getElementById("on-page-nav-controls")&&(document.getElementById("sidebar-bg-left")&&(document.getElementById("sidebar-bg-left").onclick=(()=>{slideSidebar("left","outOfView")})),document.getElementById("sidebar-bg-right")&&(document.getElementById("sidebar-bg-right").onclick=(()=>{slideSidebar("right","outOfView")})),document.getElementById("on-page-nav-butt-left")&&(document.getElementById("on-page-nav-butt-left").onclick=(()=>{slideSidebar("left","intoView")})),document.getElementById("on-page-nav-butt-right")&&(document.getElementById("on-page-nav-butt-right").onclick=(()=>{slideSidebar("right","intoView")})),InstantClick.on("change",()=>{document.body.classList.remove("modal-open"),slideSidebar("right","outOfView"),slideSidebar("left","outOfView")}));const e=document.getElementById("feed-filter-select");e&&e.addEventListener("change",e=>{const t=e.target.value;InstantClick.preload(t),InstantClick.display(t)})}function initializeHeroBannerClose(){let e=document.getElementById("hero-html-wrapper"),t=document.getElementById("js-hero-banner__x");e&&t&&(t.setAttribute("aria-label","Close campaign banner"),t.addEventListener("click",()=>{localStorage.setItem("exited_hero",e.dataset.name),e.style.display="none"}))}function initializeLocalStorageRender(){try{var e=browserStoreCache("get");e&&(document.body.dataset.user=e,initializeBaseUserData(),initializeReadingListIcons(),initializeSponsorshipVisibility())}catch(t){browserStoreCache("remove")}}function initializeOnboardingTaskCard(){if("yes"===localStorage.getItem("task-card-closed"))return;var e=document.getElementsByClassName("onboarding-task-card")[0];const t=userData();if(null!=e&&t){var n=new Date(t.created_at),i=new Date;n>i.setDate(i.getDate()-7)&&(e.style.display="block")}}function initializePaymentPointers(){var e=document.getElementById("author-payment-pointer"),t=document.getElementById("base-payment-pointer"),n=document.querySelector("meta[name='monetization']");e&&n?n.content=e.dataset.paymentPointer:t&&(n.content=t.dataset.paymentPointer)}function initializePodcastPlayback(){function e(e){return document.getElementById(e)}function t(e){return document.getElementsByClassName(e)}function n(){return window.name||(window.name=Math.random()),{html:e("audiocontent").innerHTML,currentTime:0,playing:!1,muted:!1,volume:1,duration:1,updated:(new Date).getTime(),windowName:window.name}}function i(){try{var e=JSON.parse(localStorage.getItem("media_playback_state_v2"));return e&&window.name===e.windowName?e:n()}catch(t){return console.log(t),n()}}function r(){var t=e("audio"),n=i();return t&&n.playing}function o(){return e(`record-${window.activeEpisode}`)}function a(t){if(r()&&o()){var n=e(`record-${window.activeEpisode}`);n.classList.add("playing"),n.setAttribute("aria-pressed","true"),v(t)}}function s(){if(window.activeEpisode&&e(`record-${window.activeEpisode}`)){var t=e(`record-${window.activeEpisode}`);t.classList.remove("playing"),t.setAttribute("aria-pressed","false"),window.activeEpisode=undefined}}function c(){var e=t("record-wrapper"),n=t("podcastliquidtag__record");return e.length>0?e:n}function l(e){var t=e||i(),r=n();return r.currentTime=t.currentTime,r.playing=t.playing,r.muted=t.muted,r.volume=t.volume,r.duration=t.duration,localStorage.setItem("media_playback_state_v2",JSON.stringify(r)),r}function d(t){var n=i();e("barPlayPause").onclick=function(){L(t)},e("mutebutt").onclick=function(){C(t)},e("volbutt").onclick=function(){C(t)},e("bufferwrapper").onclick=function(e){x(e,t)},e("volumeslider").value=100*n.volume,e("volumeslider").onchange=function(e){I(e,t)},e("speed").onclick=function(){g(t)},e("closebutt").onclick=function(){B(t)}}function u(t){return-1!==e("audiocontent").innerHTML.indexOf(`${t}`)}function m(e){return function(){var t=0;e.currentTime>0&&(t=e.buffered.end(e.buffered.length-1)/e.duration*100);A(e.currentTime,e.duration,t)}}function h(e){Runtime.podcastMessage?Runtime.podcastMessage({action:"load",url:e.getElementsByTagName("source")[0].src}):e.load()}function p(t){e("audiocontent").innerHTML=e(`hidden-audio-${t}`).innerHTML;var n=e("audio");n.addEventListener("timeupdate",m(n),!1),h(n),L(n),d(n)}function f(){var t=c();Array.prototype.forEach.call(t,function(t){var n=t.getAttribute("data-episode"),i=(t.getAttribute("data-podcast"),function(){if(u(n)){var t=e("audio");t&&L(t)}else s(),p(n)});t.addEventListener("click",i)})}function g(t){var n=i(),r=e("speed"),o=parseFloat(r.getAttribute("data-speed"));2===o?(r.setAttribute("data-speed",.5),r.innerHTML="0.5x",n.playbackRate=.5):(r.setAttribute("data-speed",o+.5),r.innerHTML=o+.5+"x",n.playbackRate=o+.5),l(n),Runtime.podcastMessage?Runtime.podcastMessage({action:"rate",rate:n.playbackRate.toString()}):t.playbackRate=n.playbackRate}function v(n){var i=e(`status-message-${window.activeEpisode}`);i?n?(i.classList.add("showing"),i.innerHTML=n):i.classList.remove("showing"):"initializing..."===n&&t("status-message")[0]&&(t("status-message")[0].innerHTML=n)}function y(){e("barPlayPause").classList.add("playing"),e("progressBar").classList.add("playing"),e("animated-bars").classList.add("playing")}function b(){e("barPlayPause").classList.remove("playing"),e("animated-bars").classList.remove("playing")}function w(e){return new Promise(function(t,n){var r=i();Runtime.podcastMessage?(Runtime.podcastMessage({action:"play",url:e.getElementsByTagName("source")[0].src,seconds:r.currentTime.toString()}),N(!0),t()):(e.currentTime=r.currentTime,e.play().then(function(){N(!0),t()})["catch"](function(e){console.log(e),N(!1),n()}))})}function E(){var e=t("podcast-episode-container")[0];return e===undefined&&(e=t("podcastliquidtag")[0]),e.dataset.meta}function S(){if(Runtime.podcastMessage)try{var e=JSON.parse(E());Runtime.podcastMessage({action:"metadata",episodeName:e.episodeName,podcastName:e.podcastName,podcastImageUrl:e.podcastImageUrl})}catch(t){console.log("Unable to load Podcast Episode metadata",t)}}function _(e){S(),w(e).then(function(){a(),y()})["catch"](function(){w(e),setTimeout(function(){a("initializing..."),y()},5)})}function k(e){Runtime.podcastMessage?Runtime.podcastMessage({action:"pause"}):e.pause(),N(!1),s(),b()}function T(e){window.activeEpisode=F.getAttribute("data-episode"),window.activePodcast=F.getAttribute("data-podcast");var t={action:e,episode:window.activeEpisode,podcast:window.activePodcast,deviceType:O};ahoy.track("Podcast Player Streaming",t)}function L(e){i().playing?(T("pause"),k(e),v(null)):(T("play"),v("initializing..."),_(e))}function C(t){var n=i();e("mutebutt").classList.add(n.muted?"hidden":"showing"),e("volumeindicator").classList.add(n.muted?"showing":"hidden"),e("mutebutt").classList.remove(n.muted?"showing":"hidden"),e("volumeindicator").classList.remove(n.muted?"hidden":"showing"),n.muted=!n.muted,Runtime.podcastMessage?Runtime.podcastMessage({action:"muted",muted:n.muted.toString()}):t.muted=n.muted,l(n)}function I(e,t){var n=i();n.volume=e.target.value/100,Runtime.podcastMessage?Runtime.podcastMessage({action:"volume",volume:n.volume}):t.volume=n.volume,l(n)}function A(t,n,r){var o=e("progress"),a=e("buffer"),s=e("time"),c=0,d=t-Math.floor(t);if(t>0&&(c=Math.floor(100/n*t),d<.4)){var u=i();u.duration=n,u.currentTime=t,l(u)}o&&s&&t>0&&(o.style.width=c+"%",a.style.width=r+"%",s.innerHTML=R(t)+" / "+R(n))}function x(t,n){var r=i(),o=e("progress"),a=e("time");if(t.clientX>128){var s=(t.clientX-128)/(window.innerWidth-133),c=r.duration;r.currentTime=c*s,Runtime.podcastMessage?Runtime.podcastMessage({action:"seek",seconds:r.currentTime.toString()}):n.currentTime=r.currentTime,a.innerHTML=R(r.currentTime)+" / "+R(r.duration),o.style.width=100*s+"%"}}function R(e){var t=Math.floor(e),n=Math.floor(t/60);return(n=n>=10?n:"0"+n)+":"+(t=(t=Math.floor(t%60))>=10?t:"0"+t)}function B(t){t.removeEventListener("timeupdate",m(t),!1),e("audiocontent").innerHTML="",s(),l(n()),Runtime.podcastMessage&&Runtime.podcastMessage({action:"terminate"})}function M(t){const n=JSON.parse(t.detail);if("podcast"===n.namespace){var r=i();switch(n.action){case"init":e("time").innerHTML="initializing...",r.currentTime=0;break;case"tick":r.currentTime=n.currentTime,r.duration=n.duration,A(r.currentTime,r.duration,100);break;default:console.log("Unrecognized message: ",n)}l(r)}}function P(){Runtime.isNativeIOS("podcast")?O="iOS":Runtime.isNativeAndroid("podcastMessage")&&(O="Android"),"web"!==O&&(Runtime.podcastMessage=(e=>{window.ForemMobile.injectNativeMessage("podcast",e)}))}function H(){var t=i();document.getElementById("audiocontent").innerHTML=t.html;var n=e("audio");n!==undefined&&null!==n?(Runtime.podcastMessage&&(n.currentTime=t.currentTime||0),h(n),t.playing&&w(n)["catch"](function(){b()}),setTimeout(function(){n.addEventListener("timeupdate",m(n),!1),document.addEventListener("ForemMobile",M)},500),d(n)):audioInitialized=!1}function N(e){var t=i();t.playing=e,l(t)}var O="web";P(),a(),f(),audioInitialized||(audioInitialized=!0,H());var F=e("audio"),$=e("audiocontent");F&&$&&$.innerHTML.length<25&&h(F)}function initializeReadingListIcons(){setReadingListButtonsState(),addReadingListCountToHomePage(),addHoverEffectToReadingListButtons()}function setReadingListButtonsState(){var e=document.querySelectorAll(".bookmark-button:not([data-initial-feed])");Array.from(e).forEach(highlightButton)}function highlightButton(e){var t=userData(),n=parseInt(e.dataset.reactableId,10);t&&t.reading_list_ids.indexOf(n)>-1?e.classList.add("selected"):e.classList.remove("selected"),e.addEventListener("click",reactToReadingListButtonClick),e.dataset.saveInitialized=!0}function addReadingListCountToHomePage(){var e,t=userData();t&&document.getElementById("reading-list-count")&&(e=t.reading_list_ids.length>0?t.reading_list_ids.length:"",document.getElementById("reading-list-count").innerHTML=e,document.getElementById("reading-list-count").dataset.count=t.reading_list_ids.length)}function reactToReadingListButtonClick(e){var t;e.preventDefault(),sendHapticMessage("medium"),"logged-out"!==document.body.getAttribute("data-user-status")?(renderOptimisticResult(t=properButtonFromEvent(e)),getCsrfToken().then(sendFetch("reaction-creation",buttonFormData(t))).then(function(e){if(200===e.status)return e.json().then(function(e){renderButtonState(t,e),renderNewSidebarCount(t,e)})})["catch"](function(){})):showLoginModal()}function renderButtonState(e,t){"create"===t.result?(e.classList.add("selected"),addHoverEffectToReadingListButtons(e)):e.classList.remove("selected")}function renderNewSidebarCount(e,t){var n,i=document.getElementById("reading-list-count").dataset.count;i=parseInt(i,10),"create"===t.result?n=i+1:0!==i&&(n=i-1),document.getElementById("reading-list-count").dataset.count=n,document.getElementById("reading-list-count").innerHTML=n>0?n:""}function buttonFormData(e){var t=new FormData;return t.append("reactable_type","Article"),t.append("reactable_id",e.dataset.reactableId),t.append("category","readinglist"),t}function renderOptimisticResult(e){renderButtonState(e,{result:"create"})}function properButtonFromEvent(e){return"BUTTON"===e.target.tagName?e.target:e.target.parentElement}function addHoverEffectToReadingListButtons(){var e=document.getElementsByClassName("articles-list");Array.from(e).forEach(function(e){e.addEventListener("mouseover",readingListButtonMouseHandler.bind("Unsave")),e.addEventListener("mouseout",readingListButtonMouseHandler.bind("Saved"))})}function isReadingListButtonHoverTarget(e){var t=e.classList;return"BUTTON"===e.tagName&&t.contains("bookmark-button")&&t.contains("selected")||"SPAN"===e.tagName&&t.contains("bm-success")}function readingListButtonMouseHandler(e){var t=e.target;if(isReadingListButtonHoverTarget(t)){e.preventDefault();var n=this;("BUTTON"===t.tagName?t.getElementsByClassName("bm-success")[0]:t).innerHTML=n}}function initializeSettings(){const e=document.getElementById("settings-org-secret"),t=document.getElementById("settings-org-secret-copy-btn");e&&t&&t.addEventListener("click",()=>{const{value:t}=e;Runtime.copyToClipboard(t).then(()=>{document.getElementById("copy-text-announcer").classList.remove("hidden")})});let n=document.getElementById("rss-fetch-time");if(n){var i=n.getAttribute("datetime"),r={month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"};n.textContent=timestampToLocalDateTime(i,navigator.language,r)}const o=document.getElementById("mobile-page-selector");o&&o.addEventListener("change",e=>{const t=e.target.value;InstantClick.preload(t),InstantClick.display(t)})}function sponsorClickHandler(e){ga("send","event","click","click sponsor link",e.target.dataset.details,null)}function listenForSponsorClick(){setTimeout(()=>{if(window.ga)for(var e=document.getElementsByClassName("partner-link"),t=0;t<e.length;t++)e[t].onclick=sponsorClickHandler},400)}function initializeSponsorshipVisibility(){var e=document.getElementById("sponsorship-widget")||document.getElementById("partner-content-display"),t=userData();e&&setTimeout(()=>{window.ga&&0===document.querySelectorAll("[data-partner-seen]").length&&(ga("send","event","view","sponsor displayed on page",e.dataset.details,null),e.dataset.partnerSeen="true")},400),e&&t&&t.display_sponsors?(e.classList.remove("hidden"),listenForSponsorClick()):e&&t?e.classList.add("hidden"):e&&(e.classList.remove("hidden"),listenForSponsorClick())}function formatDateTime(e,t){return new Intl.DateTimeFormat("en-US",e).format(t)}function convertUtcTime(e){return formatDateTime({hour:"numeric",minute:"numeric",timeZoneName:"short"},new Date(e))}function convertUtcDate(e){return formatDateTime({month:"short",day:"numeric"},new Date(e))}function convertCalEvent(e){return formatDateTime({weekday:"long",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},new Date(e))}function updateLocalDateTime(e,t,n){for(var i,r=0;r<e.length;r+=1)i=t(n(e[r])),e[r].innerHTML=i}function initializeTimeFixer(){var e=document.getElementsByClassName("utc-time"),t=document.getElementsByClassName("utc-date"),n=document.getElementsByClassName("utc");n&&(updateLocalDateTime(e,convertUtcTime,e=>e.dataset.datetime),updateLocalDateTime(t,convertUtcDate,e=>e.dataset.datetime),updateLocalDateTime(n,convertCalEvent,e=>e.innerHTML))}function initializeProfileInfoToggle(){const e=document.getElementsByClassName("js-user-info")[0],t=document.getElementsByClassName("js-user-info-trigger")[0],n=document.getElementsByClassName("js-user-info-trigger-wrapper")[0];t&&e&&t.addEventListener("click",()=>{n.classList.replace("block","hidden"),e.classList.replace("hidden","grid")})}function initializeProfileBadgesToggle(){const e=document.getElementsByClassName("js-profile-badges")[0],t=document.getElementsByClassName("js-profile-badges-trigger")[0];if(e&&t){const n=e.querySelectorAll(".js-profile-badge.hidden");t.addEventListener("click",()=>{n.forEach(e=>{e.classList.remove("hidden")}),t.classList.add("hidden")})}}function initializeVideoPlayback(){function e(e){return document.getElementById(e)}function t(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}function n(e){var t;return e.length<3?e:e.length<6?60*+(t=e.split(":"))[0]+ +t[1]:60*+(t=e.split(":"))[0]*60+60*+t[1]+ +t[2]}function i(t){var n=t?"play":"pause";if(u!==n){u=n;var i={article:o(e("video-player-source")).id,deviceType:d,action:n};ahoy.track("Video Player Streaming",i)}}function r(e,t){var n=setInterval(function(){"undefined"!=typeof jwplayer&&(clearInterval(n),jwplayer(`video-player-${t.id}`).setup({file:t.video_source_url,mediaid:t.video_code,image:t.video_thumbnail_url,playbackRateControls:!0,tracks:[{file:t.video_closed_caption_track_url,label:"English",kind:"captions","default":!1}]}),e&&(jwplayer().on("firstFrame",function(){jwplayer().seek(e)}),jwplayer().on("play",function(){i(!0)}),jwplayer().on("pause",function(){i(!1)})))},2)}function o(e){try{return JSON.parse(e.dataset.meta)}catch(t){console.log("Unable to load Podcast Episode metadata",t)}}function a(){var t=o(m);e(`video-player-${t.id}`);e("pause-butt").classList.add("active"),e("play-butt").classList.remove("active"),Runtime.videoMessage({action:"play",url:t.video_source_url,seconds:l}),i(!0)}function s(t){const n=JSON.parse(t.detail);if("video"===n.namespace)switch(n.action){case"play":e("pause-butt").classList.add("active"),e("play-butt").classList.remove("active"),i(!0);break;case"pause":e("pause-butt").classList.remove("active"),e("play-butt").classList.add("active"),i(!1);break;case"tick":l=n.currentTime;break;default:console.log("Unrecognized message: ",n)}}function c(i){var c=n(t("t")||"0"),u=o(i);if(Runtime.isNativeIOS("video"))d="iOS";else{if(!Runtime.isNativeAndroid("videoMessage"))return void r(c,u);d="Android"}Runtime.videoMessage=(e=>{window.ForemMobile.injectNativeMessage("video",e)});var m=e(`video-player-${u.id}`);m.addEventListener("click",a),m.classList.add("native"),e("play-butt").classList.add("active"),document.addEventListener("ForemMobile",s),l=`${c}`}var l="0",d="web",u="",m=e("video-player-source");null!==m&&c(m)}function browserStoreCache(e,t){try{switch(e){case"set":localStorage.setItem("current_user",t),localStorage.setItem("config_body_class",JSON.parse(t).config_body_class);break;case"remove":localStorage.removeItem("current_user");break;default:return localStorage.getItem("current_user")}}catch(n){navigator.cookieEnabled&&browserStoreCache("remove")}return undefined}function buildArticleHTML(e){var t='<svg width="24" height="24" viewBox="0 0 24 24" class="crayons-icon" xmlns="http://www.w3.org/2000/svg"><path d="M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011 0h3.99l.42-4h-3.99l-.42 4z"/></svg>';if(e&&"Tag"===e.class_name)return`<article class="crayons-story">\n        <div class="crayons-story__body flex items-start gap-2">\n          <span class="radius-default p-2 shrink-0" style="background: ${e.bg_color_hex||"#000000"}1a; color: ${e.bg_color_hex||"#000"}">\n            ${t}\n          </span>\n          <div>\n            <h3 class="crayons-subtitle-2 lh-tight py-2">\n              <a href="/t/${e.name}" class="c-link">\n                ${e.name}\n              </a>\n            </h3>\n            ${e.short_summary?`<div class="truncate-at-3">${e.short_summary}</div>`:""}\n          </div>\n        </div>\n      </article>`;if(e&&"PodcastEpisode"===e.class_name)return`<article class="crayons-story crayons-podcast-episode mb-2">\n        <div class="crayons-story__body flex flex-start">\n          <a href="${e.podcast.slug}" class="crayons-podcast-episode__cover">\n            <img src="${e.podcast.image_url}" alt="${e.podcast.title}" loading="lazy" />\n          </a>\n          <div class="pt-2 flex-1">\n            <p class="crayons-podcast-episode__author">\n              ${e.podcast.title}\n            </p>\n            <h2 class="crayons-podcast-episode__title crayons-story__title mb-0">\n              <a href="${e.path}" id="article-link-${e.id}">\n                ${e.podcast.title}\n              </a>\n            </h2>\n          </div>\n        </div>\n      </article>`;if(e){var n=document.getElementById("index-container"),i="",r="";n&&(r=JSON.parse(n.dataset.params).tag),e.flare_tag&&r!==e.flare_tag.name&&(i=`<a href="/t/${e.flare_tag.name}"\n        class="crayons-tag crayons-tag--filled"\n        style="--tag-bg: ${e.flare_tag.bg_color_hex}1a; --tag-prefix: ${e.flare_tag.bg_color_hex}; --tag-bg-hover: ${e.flare_tag.bg_color_hex}1a; --tag-prefix-hover: ${e.flare_tag.bg_color_hex};"\n      >\n        <span class="crayons-tag__prefix">#</span>\n        ${e.flare_tag.name}\n      </a>`);var o="",a=e.tag_list||e.cached_tag_list_array||[];i&&(a=a.filter(function(t){return t!==e.flare_tag.name}),o+=i),a&&a.forEach(function(e){o+=`<a href="/t/${e}" class="crayons-tag crayons-tag--monochrome"><span class="crayons-tag__prefix">#</span>${e}</a>\n`});var s="",c="0";(e.comments_count||"0")>0&&(c=e.comments_count||"0");var l=' aria-label="Comments for post '+e.title+" ("+c+')" ';"User"!==e.class_name&&(s='<a href="'+e.path+'#comments"'+l+'class="crayons-btn crayons-btn--s crayons-btn--ghost crayons-btn--icon-left "><svg class="crayons-icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5h3a6 6 0 110 12v2.625c-3.75-1.5-9-3.75-9-8.625a6 6 0 016-6zM12 15.5h1.5a4.501 4.501 0 001.722-8.657A4.5 4.5 0 0013.5 6.5h-3A4.5 4.5 0 006 11c0 2.707 1.846 4.475 6 6.36V15.5z"/></svg>',s+=c>0?c+'<span class="hidden s:inline">&nbsp;comments</span></a>':'<span class="hidden s:inline">Add&nbsp;Comment</span></a>');var d,u,m=e.public_reactions_count,h="",p=1===m?"reaction":"reactions";"User"!==e.class_name&&m>0&&(h='<a href="'+e.path+'"'+l+'class="crayons-btn crayons-btn--s crayons-btn--ghost crayons-btn--icon-left"><svg class="crayons-icon" width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M18.884 12.595l.01.011L12 19.5l-6.894-6.894.01-.01A4.875 4.875 0 0112 5.73a4.875 4.875 0 016.884 6.865zM6.431 7.037a3.375 3.375 0 000 4.773L12 17.38l5.569-5.569a3.375 3.375 0 10-4.773-4.773L9.613 10.22l-1.06-1.062 2.371-2.372a3.375 3.375 0 00-4.492.25v.001z"/></svg>'+m+`<span class="hidden s:inline">&nbsp;${p}</span></a>`),"PodcastEpisode"===e.class_name?(d=e.main_image,u=e.slug,e.title):(d=e.user.profile_image_90,u=e.user.username,e.user.name);var f="",g="",v="crayons-avatar--l";e.organization&&!document.getElementById("organization-article-index")&&(g='<a href="/'+e.organization.slug+'" class="crayons-logo crayons-logo--l"><img alt="'+e.organization.name+' logo" src="'+e.organization.profile_image_90+'" class="crayons-logo__image" loading="lazy"/></a>',f='<span><span class="crayons-story__tertiary fw-normal"> for </span><a href="/'+e.organization.slug+'" class="crayons-story__secondary fw-medium">'+e.organization.name+"</a></span>",v="crayons-avatar--s absolute -right-2 -bottom-2 border-solid border-2 border-base-inverted");var y="";e.published_at_int&&(y=timeAgo({oldTimeInSeconds:e.published_at_int}));var b="";e.readable_publish_date&&(b=e.published_timestamp?'<time datetime="'+e.published_timestamp+'">'+e.readable_publish_date+" "+y+"</time>":"<time>"+e.readable_publish_date+" "+y+"</time>");var w="Article"===e.class_name,E=e.user.name.replace(/'/g,"&apos;").replace(/[\\"]/g,"\\$&"),S=`\n      <div id="story-author-preview-content-${e.id}" class="profile-preview-card__content crayons-dropdown p-4 pt-0 branded-7" data-repositioning-dropdown="true" style="border-top-color: var(--card-color);" data-testid="profile-preview-card">\n        <div class="gap-4 grid">\n          <div class="-mt-4">\n            <a href="/${u}" class="flex">\n              <span class="crayons-avatar crayons-avatar--xl mr-2 shrink-0">\n                <img src="${d}" class="crayons-avatar__image" alt="" loading="lazy" />\n              </span>\n              <span class="crayons-link crayons-subtitle-2 mt-5">${e.user.name}</span>\n            </a>\n          </div>\n          <div class="print-hidden">\n            <button class="crayons-btn follow-action-button whitespace-nowrap follow-user w-100" data-info='{"id": ${e.user_id}, "className": "User", "style": "full", "name": "${E}"}'>Follow</button>\n          </div>\n          <div class="author-preview-metadata-container" data-author-id="${e.user_id}"></div>\n        </div>\n      </div>\n    `,_=`\n      <div class="crayons-story__meta">\n        <div class="crayons-story__author-pic">\n          ${g}\n          <a href="/${u}" class="crayons-avatar ${v}">\n            <img src="${d}" alt="${u} profile" class="crayons-avatar__image" loading="lazy" />\n          </a>\n        </div>\n        <div>\n          <div>\n            <a href="/${u}" class="crayons-story__secondary fw-medium ${w?"m:hidden":""}">${filterXSS(e.user.name)}</a>\n    ${w?`<div class="profile-preview-card relative mb-4 s:mb-0 fw-medium hidden m:inline-block"><button id="story-author-preview-trigger-${e.id}" aria-controls="story-author-preview-content-${e.id}" class="profile-preview-card__trigger fs-s crayons-btn crayons-btn--ghost p-1 -ml-1 -my-2" aria-label="${e.user.name} profile details">${e.user.name}</button>${S}</div>`:""}\n            ${f}\n          </div>\n          <a href="${e.path}" class="crayons-story__tertiary fs-xs">${b}</a>\n        </div>\n      </div>\n    `,k="",T="";if(e.highlight&&e.highlight.body_text.length>0){var L=e.highlight.body_text[0],C="";L.toLowerCase()!==L.toUpperCase()&&(C="\u2026"),(k=C+e.highlight.body_text.join("...")+"\u2026").length>0&&(T='<div class="crayons-story__snippet mb-1">'+k+"</div>")}var I="";"Article"===e.class_name&&(I='<small class="crayons-story__tertiary fs-xs mr-2">'+((e.reading_time||null)<1?"1 min":e.reading_time+" min")+" read</small>");var A=""
;"Article"===e.class_name?A='<button type="button" id="article-save-button-'+e.id+'" class="crayons-btn crayons-btn--secondary crayons-btn--s bookmark-button" data-reactable-id="'+e.id+'">                      <span class="bm-initial">Save</span>                      <span class="bm-success">Saved</span>                    </button>':"User"===e.class_name&&(A=`\n        <button type="button"\n          class="crayons-btn crayons-btn--secondary crayons-btn--icon-left fs-s bookmark-button article-engagement-count engage-button follow-action-button follow-user"\n          data-info='{"id": ${e.id},"className":"User", "name": "${e.user.name}"}'\n        data-follow-action-button>\n          &nbsp;\n        </button>`);var x="";e.cloudinary_video_url&&(x='<a href="'+e.path+'" class="crayons-story__video" style="background-image:url('+e.cloudinary_video_url+')"><div class="crayons-story__video__time">'+(e.video_duration_string||e.video_duration_in_minutes)+"</div></a>");var R=`\n      <a\n        href="${e.path}"\n        aria-labelledby="article-link-${e.id}"\n        class="crayons-story__hidden-navigation-link"\n      >\n        ${filterXSS(e.title)}\n      </a>\n    `;return`<article class="crayons-story"\n      data-article-path="${e.path}"\n      id="article-${e.id}"\n      data-content-user-id="${e.user_id}">        ${R}        <div role="presentation">          ${x}          <div class="crayons-story__body">            <div class="crayons-story__top">              ${_}\n            </div>            <div class="crayons-story__indention">\n              <h3 class="crayons-story__title">\n                <a href="${e.path}" id="article-link-${e.id}">\n                  ${filterXSS(e.title)}\n                </a>\n              </h3>              <div class="crayons-story__tags">\n                ${o}\n              </div>              ${T}              <div class="crayons-story__bottom">                <div class="crayons-story__details">\n                  ${h} ${s}\n                </div>                <div class="crayons-story__save">                  ${I}                  ${A}\n                </div>              </div>            </div>          </div>        </div>      </article>`}return""}function buildCommentFormHTML(e,t,n){var i=document.querySelector("meta[name='csrf-token']").getAttribute("content"),r=userData();r&&!r.codeOfConduct&&r.commentCount;var o=Math.floor(1991*Math.random());return`<form class="comment-form pt-4" onsubmit="handleCommentSubmit.bind(this)(event)" id="new-comment-${n}" action="/comments" accept-charset="UTF-8" method="post" data-comment-id="${n}">\n      <input name="utf8" type="hidden" value="&#x2713;" />\n      <input type="hidden" name="authenticity_token" value="${i}">\n      <input value="${e}" type="hidden" name="comment[commentable_id]" id="comment_commentable_id" />\n      <input value="${t}" type="hidden" name="comment[commentable_type]" id="comment_commentable_type" />\n      <input value="${n}" type="hidden" name="comment[parent_id]" id="comment_parent_id" />\n      <div class="comment-form__inner">\n        <div class="comment-form__field">\n          <textarea id="textarea-for-${n}" class="crayons-textfield crayons-textfield--ghost comment-textarea" name="comment[body_markdown]" placeholder="Reply..." aria-label="Reply to a comment..." required="required" onkeydown="handleKeyDown(event)" onfocus="handleFocus(event)" oninput="handleChange(event)" onkeyup="handleKeyUp(event)"></textarea>\n          <div class="comment-form__toolbar">\n            <div class="editor-image-upload">\n              <input type="file" id="image-upload-${o}"  name="file" accept="image/*" style="display:none">\n              <button type="button" class="crayons-btn crayons-btn--s crayons-btn--icon-left crayons-btn--ghost-dimmed" onclick="handleImageUpload(event, ${o})" id="image-upload-button-${o}">\n                <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="crayons-icon"><path d="M20 5H4v14l9.292-9.294a1 1 0 011.414 0L20 15.01V5zM2 3.993A1 1 0 012.992 3h18.016c.548 0 .992.445.992.993v16.014a1 1 0 01-.992.993H2.992A.993.993 0 012 20.007V3.993zM8 11a2 2 0 110-4 2 2 0 010 4z"/></svg>\n                <span class="hidden s:inline-block">Upload image</span>\n              </button>\n              <label  class="image-upload-file-label" id="image-upload-file-label-${o}"></label>\n              <input type="submit" id="image-upload-submit-${o}" value="Upload" style="display:none">\n              <input class="crayons-textfield fs-s w-auto uploaded-image hidden" type="text" id="uploaded-image-${o}" />\n            </div>\n            <button type="button" class="crayons-btn crayons-btn--s crayons-btn--icon-left crayons-btn--ghost-dimmed response-templates-button" title="Use a response template" data-has-listener="false">\n              <svg width="24" height="24" class="crayons-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 18.5V5a3 3 0 013-3h14a1 1 0 011 1v18a1 1 0 01-1 1H6.5A3.5 3.5 0 013 18.5zM19 20v-3H6.5a1.5 1.5 0 100 3H19zM10 4H6a1 1 0 00-1 1v10.337A3.485 3.485 0 016.5 15H19V4h-2v8l-3.5-2-3.5 2V4z"/></svg>\n              <span class="hidden s:inline-block">Templates</span>\n            </button>\n            <a href="/p/editor_guide" class="crayons-btn crayons-btn--ghost-dimmed crayons-btn--icon crayons-btn--s ml-auto" target="_blank" rel="noopener" title="Markdown Guide">\n              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" class="crayons-icon"><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 100-16 8 8 0 000 16zM11 7h2v2h-2V7zm0 4h2v6h-2v-6z"/></svg>\n            </a>\n          </div>\n        </div>\n        <div class="response-templates-container crayons-card crayons-card--secondary p-4 mb-4 fs-base comment-form__templates hidden">\n          <header>\n            <button type="button" class="personal-template-button active" data-target-type="personal" data-form-id="new_comment">Personal</button>\n            <button type="button" class="moderator-template-button hidden" data-target-type="moderator" data-form-id="new_comment">Moderator</button>\n          </header>\n          <img class="loading-img hidden" src="https://dev.to/assets/loading-ellipsis-b714cf681fd66c853ff6f03dd161b77aa3c80e03cdc06f478b695f42770421e9.svg" alt="loading">\n          <div class="personal-responses-container"></div>\n          <div class="moderator-responses-container hidden"></div>\n          <a target="_blank" rel="noopener nofollow" href="/settings/response-templates">Create template</a>\n          <p>Templates let you quickly answer FAQs or store snippets for re-use.</p>\n        </div>\n        <div class="comment-form__preview text-styles text-styles--secondary"></div>\n        <div class="comment-form__buttons mb-4 whitespace-nowrap">\n          <button type="submit" class="crayons-btn comment-action-button mr-2 js-btn-enable" name="submit" disabled>Submit</button>\n          <button type="button" class="preview-toggle crayons-btn crayons-btn--secondary comment-action-button comment-action-preview mr-2 js-btn-enable" onclick="handleCommentPreview(event)" disabled>Preview</button>\n          <button type="button" class="crayons-btn crayons-btn--ghost" onclick="handleFormClose(event)">Dismiss</button>\n        </div>\n      </div>\n    </form>`}function buildCommentHTML(e){var t='<svg width="24" height="24" viewBox="0 0 24 24" class="crayons-icon pointer-events-none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.25 12a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm5.25 0a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zm3.75 1.5a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" /></svg>',n='<svg width="24" height="24" class="crayons-icon expanded" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 10.6771L8 6.93529L8.99982 6L12 8.80653L15.0002 6L16 6.93529L12 10.6771ZM12 15.1935L8.99982 18L8 17.0647L12 13.3229L16 17.0647L15.0002 17.9993L12 15.1935Z" /></svg>',i='<svg width="24" height="24" class="crayons-icon collapsed" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18L8 14.2287L8.99982 13.286L12 16.1147L15.0002 13.286L16 14.2287L12 18ZM12 7.88533L8.99982 10.714L8 9.77133L12 6L16 9.77133L15.0002 10.7133L12 7.88533Z" /></svg>',r="",o="",a="",s="",c="",l="";return 0==e.depth?r+="root ":r+="child ",e.depth>3&&(r+="comment--too-deep "),e.newly_created&&"comment-created-via-fetch",e.depth<3&&(o=`\n      <details class="comment-wrapper comment-wrapper--deep-${e.depth} js-comment-wrapper" open>\n        <summary aria-label="Toggle this comment (and replies)">\n          <span class="inline-block align-middle ${e.depth>0?"mx-0":"m:mx-1"}">\n            ${n}\n            ${i}\n          </span>\n          <span class="js-collapse-comment-content inline-block align-middle"></span>\n        </summary>\n    `,a="</details>"),l=`<a href="/${e.user.username}" class="shrink-0 crayons-avatar ${0==e.depth?"m:crayons-avatar--l mt-4 m:mt-3":"mt-4"}">\n    <img class="crayons-avatar__image" width="32" height="32" src="${e.user.profile_pic}" alt="${e.user.username} profile" />\n  </a>`,s=`<div class="comment__header" >\n    <a href="/${e.user.username}" class="crayons-link crayons-link--secondary flex items-center fw-medium m:hidden">\n      <span class="js-comment-username">${e.user.name}</span>\n    </a>\n    <div class="profile-preview-card relative mb-4 s:mb-0 fw-medium hidden m:block">\n      <button id="comment-profile-preview-trigger-${e.id}" aria-controls="comment-profile-preview-content-${e.id}" class="profile-preview-card__trigger p-1 -my-1 -ml-1 crayons-btn crayons-btn--ghost" aria-label="${e.user.name} profile details">${e.user.name}</button>\n      <span data-js-comment-user-id="${e.user.id}" data-js-dropdown-content-id="comment-profile-preview-content-${e.id}" class="preview-card-placeholder"></span>\n    </div>\n    <span class="color-base-30 px-2 m:pl-0" role="presentation">&bull;</span>\n\n    <a href="${e.url}" class="comment-date crayons-link crayons-link--secondary fs-s">\n      <time datetime="${e.published_timestamp}">\n        ${e.readable_publish_date}\n      </time>\n    </a>\n\n    <div class="comment__dropdown">\n      <button  id="comment-dropdown-trigger-${e.id}" aria-controls="comment-dropdown-${e.id}" aria-expanded="false" class="dropbtn comment__dropdown-trigger crayons-btn crayons-btn--s crayons-btn--ghost crayons-btn--icon" aria-label="Toggle dropdown menu" aria-haspopup="true">\n        ${t}\n      </button>\n      <div id="comment-dropdown-${e.id}" class="crayons-dropdown right-1 s:right-0 s:left-auto fs-base dropdown">\n        <ul class="m-0">\n          <li><a href="${e.url}" class="crayons-link crayons-link--block permalink-copybtn" aria-label="Copy link to ${e.user.name}'s comment" data-no-instant>${I18n.t("core.copy_link")}</a></li>\n          <li><a href="${e.url}/settings" class="crayons-link crayons-link--block" aria-label="Go to ${e.user.name}'s comment settings">Settings</a></li>\n          <li><a href="/report-abuse?url=${e.url}" class="crayons-link crayons-link--block" aria-label="Report ${e.user.name}'s comment as abusive or violating our code of conduct and/or terms and conditions">${I18n.t("core.report_abuse")}</a></li>\n          <li class="${e.newly_created?"":"hidden"}"><a href="${e.url}/edit" class="crayons-link crayons-link--block" rel="nofollow" aria-label="Edit this comment">Edit</a></li>\n          <li class="${e.newly_created?"":"hidden"}"><a data-no-instant="" href="${e.url}/delete_confirm" class="crayons-link crayons-link--block" rel="nofollow" aria-label="Delete this comment">Delete</a></li>\n        </ul>\n      </div>\n    </div>\n  </div>`,c=`<footer class="comment__footer">\n    ${react(e)}\n    ${reply(e)}\n  </footer>`,`${o}\n    <div class="comment single-comment-node ${r} comment--deep-${e.depth}" id="comment-node-${e.id}" data-comment-id="${e.id}" data-path="${e.url}" data-comment-author-id="${e.user.id}" data-current-user-comment="${e.newly_created}" data-content-user-id="${e.user.id}">\n      <div class="comment__inner">\n        ${l}\n        <div class="inner-comment comment__details">\n          <div class="comment__content crayons-card">\n            ${s}\n            <div class="comment__body text-styles text-styles--secondary body">\n              ${e.body_html}\n            </div>\n          </div>\n          ${c}\n        </div>\n      </div>\n    </div>\n  ${a}`}function reply(e){var t='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" class="crayons-icon reaction-icon not-reacted"><path d="M10.5 5h3a6 6 0 110 12v2.625c-3.75-1.5-9-3.75-9-8.625a6 6 0 016-6zM12 15.5h1.5a4.501 4.501 0 001.722-8.657A4.5 4.5 0 0013.5 6.5h-3A4.5 4.5 0 006 11c0 2.707 1.846 4.475 6 6.36V15.5z"/></svg>',n=`<a class="js actions crayons-btn crayons-btn--ghost crayons-btn--s crayons-btn--icon-left toggle-reply-form mr-1 inline-flex"\n    href="#${e.url}"\n    data-comment-id="${e.id}"\n    data-path="${e.url}"\n    rel="nofollow">\n    ${t}\n    <span class="hidden m:inline-block">Reply</span>\n  </a>`;if(e.newly_created)return n}function react(e){var t=1,n='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" class="crayons-icon reaction-icon not-reacted"><path d="M18.884 12.595l.01.011L12 19.5l-6.894-6.894.01-.01A4.875 4.875 0 0112 5.73a4.875 4.875 0 016.884 6.865zM6.431 7.037a3.375 3.375 0 000 4.773L12 17.38l5.569-5.569a3.375 3.375 0 10-4.773-4.773L9.613 10.22l-1.06-1.062 2.371-2.372a3.375 3.375 0 00-4.492.25v.001z"/></svg>',i='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="crayons-icon reaction-icon--like reaction-icon reacted"><path d="M5.116 12.595a4.875 4.875 0 015.56-7.68h-.002L7.493 8.098l1.06 1.061 3.181-3.182a4.875 4.875 0 016.895 6.894L12 19.5l-6.894-6.894.01-.01z"/></svg>';return!e.newly_created&&e.heart_ids.indexOf(userData().id)>-1&&"reacted",e.newly_created||(t=e.public_reactions_count),`<button class="crayons-btn crayons-btn--ghost crayons-btn--icon-left crayons-btn--s mr-1 reaction-like inline-flex reaction-button" id="button-for-comment-${e.id}" data-comment-id="${e.id}">\n    ${n}\n    ${i}\n    <span class="reactions-count" id="reactions-count-${e.id}">${t}</span>\n    <span class="reactions-label hidden m:inline-block">like</span>\n  </button>`}function checkUserLoggedIn(){const e=document.body;return!!e&&"logged-in"===e.getAttribute("data-user-status")}function dynamicallyLoadScript(e){if(document.querySelector(`script[src='${e}']`))return;const t=document.createElement("script");t.src=e,document.head.appendChild(t)}function getCsrfToken(){return new Promise(function(e,t){var n=0,i=setInterval(function(){var r=document.querySelector("meta[name='csrf-token']");if(n+=1,r){clearInterval(i);var o=r.getAttribute("content");return e(o)}if(n===MAX_RETRIES)return clearInterval(i),Honeybadger.notify("Could not locate CSRF metatag "+JSON.stringify(localStorage.current_user)),t(new Error("Could not locate CSRF meta tag on the page."))},RETRY_INTERVAL)})}function getCurrentPage(e){return document.querySelectorAll("[data-current-page='"+e+"']").length>0}function getImageForLink(e){var t=e.getAttribute("data-preload-image");t&&-1===$fetchedImageUrls.indexOf(t)&&((new Image).src=t,$fetchedImageUrls.push(t))}function insertAfter(e,t){t&&t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)}function timestampToLocalDateTime(e,t,n){if(!e)return"";try{var i=new Date(e);return new Intl.DateTimeFormat(t||"default",n).format(i)}catch(r){return""}}function addLocalizedDateTimeToElementsTitles(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],r=i.getAttribute(t||"datetime");if(r){var o=timestampToLocalDateTimeLong(r);i.setAttribute("title",o)}}}function localizeTimeElements(e,t){for(let n=0;n<e.length;n+=1){const i=e[n],r=i.getAttribute("datetime");if(r){const e=timestampToLocalDateTime(r,navigator.language,t);i.textContent=e}}}function timestampToLocalDateTimeLong(e){return timestampToLocalDateTime(e,navigator.language,{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}function timestampToLocalDateTimeShort(e){if(e){const n=(new Date).getFullYear();var t={day:"numeric",month:"short"};return new Date(e).getFullYear()!==n&&(t.year="numeric"),timestampToLocalDateTime(e,navigator.language,t)}return""}function localStorageTest(){var e="devtolocalstoragetestforavaialbility";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}function preventDefaultAction(e){e.preventDefault()}function sendFetch(e,t){switch(e){case"article-preview":return fetchCallback({url:"/articles/preview",headers:{Accept:"application/json","Content-Type":"application/json"},body:t});case"reaction-creation":return fetchCallback({url:"/reactions",addTokenToBody:!0,body:t});case"image-upload":return fetchCallback({url:"/image_uploads",addTokenToBody:!0,body:t});case"follow-creation":return fetchCallback({url:"/follows",addTokenToBody:!0,body:t});case"block-user":return fetchCallback({url:"/user_blocks",headers:{Accept:"application/json","Content-Type":"application/json"},addTokenToBody:!1,body:t});case"comment-creation":return fetchCallback({url:"/comments",headers:{"Content-Type":"application/json"},body:t});case"comment-preview":return fetchCallback({url:"/comments/preview",headers:{"Content-Type":"application/json"},body:t});case"user_subscriptions":return fetchCallback({url:"/user_subscriptions",headers:{Accept:"application/json","Content-Type":"application/json"},body:t});default:console.log("A wrong switchStatement was used.")}return!0}function sendHapticMessage(e){try{window&&window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.haptic&&window.webkit.messageHandlers.haptic.postMessage(e)}catch(t){console.log(t.message)}}function showLoginModal(){window.Forem.showModal({title:"Log in to continue",contentSelector:"#global-signup-modal",overlay:!0})}function showUserAlertModal(e,t,n){buildModalDiv(t,n),window.Forem.showModal({title:e,contentSelector:`#${modalId}`,overlay:!0})}function showRateLimitModal({element:e,action_ing:t,action_past:n,timeframe:i="a moment"}){showUserAlertModal(`Wait ${i}...`,buildRateLimitText({element:e,action_ing:t,action_past:n,timeframe:i}),"Got it","/faq","Why do I have to wait?")}function showModalAfterError({response:e,element:t,action_ing:n,action_past:i,timeframe:r="a moment"}){e.json().then(function(o){429===e.status?showRateLimitModal({element:t,action_ing:n,action_past:i,timeframe:r}):showUserAlertModal(`Error ${n} ${t}`,`Your ${t} could not be ${i} due to an error: `+o.error,"OK")})["catch"](function(){showUserAlertModal(`Error ${n} ${t}`,`Your ${t} could not be ${i} due to a server error`,"OK")})}function buildRateLimitText({element:e,action_ing:t,action_past:n,timeframe:i}){return`Since you recently ${n} a ${e}, you\u2019ll need to wait ${i} before ${t} another ${e}.`}function buildModalDiv(e,t){let n=document.getElementById(modalId);return n?n.outerHTML=getModal(e,t).outerHTML:(n=getModal(e,t),document.body.appendChild(n)),n}function getModal(e,t){let n=document.createElement("div");return n.innerHTML=getModalHtml(e,t),n}function slideSidebar(e,t){if(!document.getElementById("sidebar-wrapper-"+e))return;const n=document.getElementById("main-content")||document.getElementById("articles-list");"intoView"===t?(n.classList.add("modal-open"),document.body.classList.add("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.add("swiped-in"),n.addEventListener("touchmove",preventDefaultAction,!1)):(n.classList.remove("modal-open"),document.body.classList.remove("modal-open"),document.getElementById("sidebar-wrapper-"+e).classList.remove("swiped-in"),n.removeEventListener("touchmove",preventDefaultAction,!1))}function secondsToHumanUnitAgo(e){const t=[["second",1],["min",60],["hour",3600],["day",86400],["week",604800],["month",2592e3],["year",31536e3]];if(e<t[0][1])return"just now";let n=0;for(;n+1<t.length&&e>=t[n+1][1];)n+=1;const i=Math.floor(e/t[n][1]);return i+" "+(t[n][0]+(1===i?"":"s"))+" ago"}function timeAgo({oldTimeInSeconds:e,formatter:t=(e=>`<span class="time-ago-indicator">(${e})</span>`),maxDisplayedAge:n=86399}){const i=new Date/1e3,r=Math.round(i-e);return r>n?"":t(secondsToHumanUnitAgo(r))}function userData(){const{user:e=null}=document.body.dataset;return JSON.parse(e)}function callInitializers(){initializeBaseTracking(),initializePaymentPointers(),initializeCommentsPage(),initializeArticleDate(),initializeArticleReactions(),initNotifications(),initializeCommentDate(),initializeSettings(),initializeCommentPreview(),initializeTimeFixer(),initializeDashboardSort(),initializeArchivedPostFilter(),initializeCreditsPage(),initializeProfileInfoToggle(),initializeProfileBadgesToggle(),initializeDrawerSliders(),initializeHeroBannerClose(),initializeOnboardingTaskCard(),initializeDateHelpers()}function initializePage(){initializeLocalStorageRender(),initializeBodyData();var e=setInterval(function(){"true"===document.body.getAttribute("data-loaded")&&(clearInterval(e),"logged-in"===document.body.getAttribute("data-user-status")&&(initializeBaseUserData(),initializeAllTagEditButtons()),initializeBroadcast(),initializeReadingListIcons(),initializeSponsorshipVisibility(),document.getElementById("sidebar-additional")&&document.getElementById("sidebar-additional").classList.add("showing"),initializePodcastPlayback(),initializeVideoPlayback())},1);callInitializers(),nextPage=0,fetching=!1,done=!1,adClicked=!1,setTimeout(function(){done=!1},300),initScrolling.called||initScrolling(),document.body.dataset.runtime=Runtime.currentContext()}function initializeBaseApp(){InstantClick.on("change",function(){initializePage()}),InstantClick.init()}var client,iconSmallThread='<svg width="24" height="24" class="crayons-icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 13l-5 6-5-6h3.125c0-3.314 2.798-6 6.25-6 .17 0 .34.006.506.02-1.787.904-3.006 2.705-3.006 4.78V13H17z" /></svg>',KEY_CODE_B=66,KEY_CODE_I=73,KEY_CODE_K=75,ENTER_KEY_CODE=13,audioInitialized=!1;class Runtime{static currentContext(){return`${Runtime.currentMedium()}-${Runtime.currentOS()}`}static currentMedium(){return/ForemWebView/i.test(navigator.userAgent)?"ForemWebView":"Browser"}static currentOS(){const e=["Win32","Win64","Windows","WinCE"],t=["iPhone","iPad","iPod"];return["Macintosh","MacIntel","MacPPC","Mac68K"].includes(window.navigator.platform)?"macOS":t.includes(window.navigator.platform)?"iOS":e.includes(window.navigator.platform)?"Windows":/Android/i.test(window.navigator.userAgent)?"Android":/Linux/i.test(window.navigator.platform)?"Linux":"Unsupported"}static isNativeIOS(e=null){const t=/DEV-Native-ios|ForemWebView/i.test(navigator.userAgent)&&window&&window.webkit&&window.webkit.messageHandlers;let n=!0;return t&&e&&(n=window.webkit.messageHandlers[e]!=undefined),t&&n}static isNativeAndroid(e=null){const t=/DEV-Native-android|ForemWebView/i.test(navigator.userAgent)&&"undefined"!=typeof AndroidBridge;let n=!0;return t&&e&&(n=AndroidBridge[e]!=undefined),t&&n}static copyToClipboard(e){return new Promise((t,n)=>{Runtime.isNativeAndroid("copyToClipboard")?(AndroidBridge.copyToClipboard(e),t()):null!=navigator.clipboard?navigator.clipboard.writeText(e).then(()=>{t()})["catch"](e=>{n(e)}):n("Unable to copy the text. Try reloading the page")})}static hasOSSpecificModifier(e){return e instanceof KeyboardEvent&&(navigator.userAgent.indexOf("Mac OS X")>=0?e.metaKey:e.ctrlKey)}static getOSKeyboardModifierKeyString(){return"macOS"===Runtime.currentOS()?"cmd":"ctrl"}}const MAX_RETRIES=30,RETRY_INTERVAL=250;var $fetchedImageUrls=[];"undefined"!=typeof globalThis&&(globalThis.timestampToLocalDateTimeLong=timestampToLocalDateTimeLong,globalThis.timestampToLocalDateTimeShort=timestampToLocalDateTimeShort);const fetchCallback=({url:e,headers:t={},addTokenToBody:n=!1,body:i})=>r=>(n&&i.append("authenticity_token",r),window.fetch(e,{method:"POST",headers:{"X-CSRF-Token":r,...t},body:i,credentials:"same-origin"})),modalId="user-alert-modal",getModalHtml=(e,t)=>`\n   <div id="${modalId}" hidden>\n     <div class="flex flex-col">\n       <p class="color-base-70">\n         ${e}\n       </p>\n       <button class="crayons-btn mt-4 ml-auto" type="button" onClick="window.Forem.closeModal()">\n         ${t}\n       </button>\n     </div>\n   </div>\n `;"undefined"!=typeof globalThis&&(globalThis.timeAgo=timeAgo),function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return r(n||e)},d,d.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){function i(){return{}}function r(){}function o(){}function a(){}function s(){}function c(e){return e.replace(T,"&lt;").replace(L,"&gt;")}function l(e,t,n,i){if(n=f(n),"href"===t||"src"===t){if("#"===(n=_.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(B.lastIndex=0,B.test(n))return""}else if("style"===t){if(M.lastIndex=0,M.test(n))return"";if(P.lastIndex=0,P.test(n)&&(B.lastIndex=0,B.test(n)))return"";!1!==i&&(n=(i=i||k).process(n))}return n=g(n)}function d(e){return e.replace(C,"&quot;")}function u(e){return e.replace(I,'"')}function m(e){return e.replace(A,function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))})}function h(e){return e.replace(x,":").replace(R," ")}function p(e){for(var t="",n=0,i=e.length;n<i;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return _.trim(t)}function f(e){return e=p(e=h(e=m(e=u(e))))}function g(e){return e=c(e=d(e))}function v(){return""}function y(e,t){function n(t){return!!i||-1!==_.indexOf(e,t)}"function"!=typeof t&&(t=function(){});var i=!Array.isArray(e),r=[],o=!1;return{onIgnoreTag:function(e,i,a){if(n(e)){if(a.isClosing){var s="[/removed]",c=a.position+s.length;return r.push([!1!==o?o:a.position,c]),o=!1,s}return o||(o=a.position),"[removed]"}return t(e,i,a)},remove:function(e){var t="",n=0;return _.forEach(r,function(i){t+=e.slice(n,i[0]),n=i[1]}),t+=e.slice(n)}}}function b(e){return e.replace(H,"")}function w(e){var t=e.split("");return(t=t.filter(function(e){var t=e.charCodeAt(0);return 127!==t&&(!(t<=31)||(10===t||13===t))})).join("")}var E=e("cssfilter").FilterCSS,S=e("cssfilter").getDefaultWhiteList,_=e("./util"),k=new E,T=/</g,L=/>/g,C=/"/g,I=/&quot;/g,A=/&#([a-zA-Z0-9]*);?/gim,x=/&colon;?/gim,R=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,M=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,P=/u\s*r\s*l\s*\(.*/gi,H=/<!--[\s\S]*?-->/g;n.whiteList=i(),n.getDefaultWhiteList=i,n.onTag=r,n.onIgnoreTag=o,n.onTagAttr=a,n.onIgnoreTagAttr=s,n.safeAttrValue=l,n.escapeHtml=c,n.escapeQuote=d,n.unescapeQuote=u,n.escapeHtmlEntities=m,n.escapeDangerHtml5Entities=h,n.clearNonPrintableCharacter=p,n.friendlyAttrValue=f,n.escapeAttrValue=g,n.onIgnoreTagStripAll=v,n.StripTagBody=y,n.stripCommentTag=b,n.stripBlankChar=w,n.cssFilter=k,n.getDefaultCSSWhiteList=S},{"./util":4,cssfilter:8}],2:[function(e,t,n){function i(e,t){return new a(t).process(e)}var r=e("./default"),o=e("./parser"),a=e("./xss");for(var s in(n=t.exports=i).FilterXSS=a,r)n[s]=r[s];for(var s in o)n[s]=o[s];"undefined"!=typeof window&&(window.filterXSS=t.exports)},{"./default":1,"./parser":3,"./xss":5}],3:[function(e,t,n){function i(e){var t=e.indexOf(" ");if(-1===t)var n=e.slice(1,-1);else n=e.slice(1,t+1);return"/"===(n=u.trim(n).toLowerCase()).slice(0,1)&&(n=n.slice(1)),"/"===n.slice(-1)&&(n=n.slice(0,-1)),n}function r(e){return"</"===e.slice(0,2)}function o(e,t,n){"user strict";var o="",a=0,s=!1,c=!1,l=0,d=e.length,u="",m="";for(l=0;l<d;l++){var h=e.charAt(l);if(!1===s){if("<"===h){s=l;continue}}else if(!1===c){if("<"===h){o+=n(e.slice(a,l)),s=l,a=l;continue}if(">"===h){o+=n(e.slice(a,s)),m=i(u=e.slice(s,l+1)),o+=t(s,o.length,m,u,r(u)),a=l+1,s=!1;continue}if(('"'===h||"'"===h)&&"="===e.charAt(l-1)){c=h;continue}}else if(h===c){c=!1;continue}}return a<e.length&&(o+=n(e.substr(a))),o}function a(e,t){"user strict";function n(e,n){if(!((e=(e=u.trim(e)).replace(m,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&r.push(i)}}for(var i=0,r=[],o=!1,a=e.length,l=0;l<a;l++){var h,p=e.charAt(l);if(!1!==o||"="!==p)if(!1===o||l!==i||'"'!==p&&"'"!==p||"="!==e.charAt(l-1))if(" "!==p);else{if(!1===o){if(-1===(h=s(e,l))){n(u.trim(e.slice(i,l))),o=!1,i=l+1;continue}l=h-1;continue}if(-1===(h=c(e,l-1))){n(o,d(u.trim(e.slice(i,l)))),o=!1,i=l+1;continue}}else{if(-1===(h=e.indexOf(p,l+1)))break;n(o,u.trim(e.slice(i+1,h))),o=!1,i=(l=h)+1}else o=e.slice(i,l),i=l+1}return i<e.length&&(!1===o?n(e.slice(i)):n(o,d(u.trim(e.slice(i))))),u.trim(r.join(" "))}function s(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function c(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function l(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function d(e){return l(e)?e.substr(1,e.length-2):e}var u=e("./util"),m=/[^a-zA-Z0-9_:\.\-]/gim;n.parseTag=o,n.parseAttr=a},{"./util":4}],4:[function(e,t){t.exports={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")}}},{}],5:[function(e,t){function n(e){return e===undefined||null===e}function i(e){var t=e.indexOf(" ");if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=u.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=u.trim(e.slice(0,-1))),{html:e,closing:n}}function r(e){var t={};for(var n in e)t[n]=e[n];return t}function o(e){(e=r(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=s.onIgnoreTagStripAll),e.whiteList=e.whiteList||s.whiteList,e.onTag=e.onTag||s.onTag,e.onTagAttr=e.onTagAttr||s.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||s.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||s.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||s.safeAttrValue,e.escapeHtml=e.escapeHtml||s.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new a(e.css))}var a=e("cssfilter").FilterCSS,s=e("./default"),c=e("./parser"),l=c.parseTag,d=c.parseAttr,u=e("./util");o.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,r=t.options,o=r.whiteList,a=r.onTag,c=r.onIgnoreTag,m=r.onTagAttr,h=r.onIgnoreTagAttr,p=r.safeAttrValue,f=r.escapeHtml,g=t.cssFilter;r.stripBlankChar&&(e=s.stripBlankChar(e)),r.allowCommentTag||(e=s.stripCommentTag(e));var v=!1;if(r.stripIgnoreTagBody){v=s.StripTagBody(r.stripIgnoreTagBody,c);c=v.onIgnoreTag}var y=l(e,function(e,t,r,s,l){var v,y={sourcePosition:e,position:t,isClosing:l,isWhite:r in o};if(!n(v=a(r,s,y)))return v;if(y.isWhite){if(y.isClosing)return"</"+r+">";var b=i(s),w=o[r],E=d(b.html,function(e,t){var i,o=-1!==u.indexOf(w,e);return n(i=m(r,e,t,o))?o?(t=p(r,e,t,g))?e+'="'+t+'"':e:n(i=h(r,e,t,o))?void 0:i:i});s="<"+r;return E&&(s+=" "+E),b.closing&&(s+=" /"),s+=">"}return n(v=c(r,s,y))?f(s):v},f);return v&&(y=v.remove(y)),y},t.exports=o},{"./default":1,"./parser":3,"./util":4,cssfilter:8}],6:[function(e,t){function n(e){return e===undefined||null===e}function i(e){var t={};for(var n in e)t[n]=e[n];return t}function r(e){(e=i(e||{})).whiteList=e.whiteList||o.whiteList,e.onAttr=e.onAttr||o.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||o.onIgnoreAttr,this.options=e}var o=e("./default"),a=e("./parser");e("./util");r.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,i=t.whiteList,r=t.onAttr,o=t.onIgnoreAttr;return a(e,function(e,t,a,s,c){var l=i[a],d=!1;!0===l?d=l:"function"==typeof l?d=l(s):l instanceof RegExp&&(d=l.test(s)),!0!==d&&(d=!1);var u,m={position:t,sourcePosition:e,source:c,isWhite:d};return d?n(u=r(a,s,m))?a+":"+s:u:n(u=o(a,s,m))?void 0:u})},t.exports=r},{"./default":7,"./parser":9,"./util":10}],7:[function(e,t,n){function i(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,
"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function r(){}function o(){}n.whiteList=i(),n.getDefaultWhiteList=i,n.onAttr=r,n.onIgnoreAttr=o},{}],8:[function(e,t,n){function i(e,t){return new o(t).process(e)}var r=e("./default"),o=e("./css");for(var a in(n=t.exports=i).FilterCSS=o,r)n[a]=r[a];"undefined"!=typeof window&&(window.filterCSS=t.exports)},{"./css":6,"./default":7}],9:[function(e,t){function n(e,t){function n(){if(!o){var n=i.trim(e.slice(a,s)),r=n.indexOf(":");if(-1!==r){var l=i.trim(n.slice(0,r)),d=i.trim(n.slice(r+1));if(l){var u=t(a,c.length,l,d,n);u&&(c+=u+"; ")}}}a=s+1}";"!==(e=i.trimRight(e))[e.length-1]&&(e+=";");for(var r=e.length,o=!1,a=0,s=0,c="";s<r;s++){var l=e[s];if("/"===l&&"*"===e[s+1]){var d=e.indexOf("*/",s+2);if(-1===d)break;a=(s=d+1)+1,o=!1}else"("===l?o=!0:")"===l?o=!1:";"===l?o||n():"\n"===l&&n()}return i.trim(c)}var i=e("./util");t.exports=n},{"./util":10}],10:[function(e,t){t.exports={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,r;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,r=e.length;i<r;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}}},{}]},{},[2]),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Honeybadger=t()}(this,function(){"use strict";function e(e,t){function n(){this.constructor=e}if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");U(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function t(e){return e.split("\n").reduce(function(e,t){var s=n(t)||i(t)||r(t)||a(t)||o(t);return s&&e.push(s),e},[])}function n(e){var t=J.exec(e);if(!t)return null;var n=t[2]&&0===t[2].indexOf("native"),i=t[2]&&0===t[2].indexOf("eval"),r=K.exec(t[2]);return i&&null!=r&&(t[2]=r[1],t[3]=r[2],t[4]=r[3]),{file:n?null:t[2],methodName:t[1]||W,arguments:n?[t[2]]:[],lineNumber:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}function i(e){var t=X.exec(e);return t?{file:t[2],methodName:t[1]||W,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}function r(e){var t=Y.exec(e);if(!t)return null;var n=t[3]&&t[3].indexOf(" > eval")>-1,i=G.exec(t[3]);return n&&null!=i&&(t[3]=i[1],t[4]=i[2],t[5]=null),{file:t[3],methodName:t[1]||W,arguments:t[2]?t[2].split(","):[],lineNumber:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}function o(e){var t=Z.exec(e);return t?{file:t[3],methodName:t[1]||W,arguments:[],lineNumber:+t[4],column:t[5]?+t[5]:null}:null}function a(e){var t=Q.exec(e);return t?{file:t[2],methodName:t[1]||W,arguments:[],lineNumber:+t[3],column:t[4]?+t[4]:null}:null}function s(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}function c(e,t){var n=s(e,t);return e.context&&t.context&&(n.context=s(e.context,t.context)),n}function l(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function d(e){return"function"!=typeof Object.isExtensible||Object.isExtensible(e)}function u(e,n){void 0===n&&(n=0);try{var i=t(e).map(function(e){return{file:e.file,method:e.methodName,number:e.lineNumber,column:e.column}});return i.splice(0,n),i}catch(r){return[]}}function m(e,t){for(var n=0,i=t.length;n<i;n++){if(!1===(0,t[n])(e))return!1}return!0}function h(e,t,n){void 0===n&&(n=undefined);for(var i=0,r=t.length;i<r;i++)t[i](n,e);return!0}function p(e){if("object"!=typeof e||null===e)return{};var t={};for(var n in e)t[n]=e[n];return t}function f(e,t){function n(e){if(!e||"object"!=typeof e)return!1;for(var t=0;t<a.length;t++){if(a[t]===e)return!0}return a.push(e),!1}function i(e){return!/function|symbol/.test(typeof e)&&(null!==e&&("object"!=typeof e||"undefined"!=typeof e.hasOwnProperty))}function r(e,r){if(void 0===r&&(r=0),r>=t)return"[DEPTH]";if(!i(e))return Object.prototype.toString.call(e);if(n(e))return"[RECURSION]";if(Array.isArray(e))return e.map(function(e){return o(e,r+1)});if("object"==typeof e){var a={};for(var s in e){var c=e[s];Object.prototype.hasOwnProperty.call(e,s)&&null!=s&&null!=c&&(a[s]=o(c,r+1))}return a}return e}function o(e,t){void 0===t&&(t=0);try{return r(e,t)}catch(n){return"[ERROR] "+n}}void 0===t&&(t=8);var a=[];return o(e)}function g(e){var t=function(t){return function(){for(var n,i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];("debug"!==t||e.config.debug)&&(i.unshift("[Honeybadger]"),(n=e.config.logger)[t].apply(n,i))}};return{log:t("log"),info:t("info"),debug:t("debug"),warn:t("warn"),error:t("error")}}function v(e){var t;if(e)if("[object Error]"===Object.prototype.toString.call(e)){var n=e;t=s(e,{name:n.name,message:n.message,stack:n.stack})}else if("object"==typeof e)t=p(e);else{t={message:String(e)}}else t={};return t}function y(e,t,n){if(e&&t&&n&&t in e){for(var i=e[t];i&&i.__hb_original;)i=i.__hb_original;try{e[t]=n(i),e[t].__hb_original=i}catch(r){}}}function b(e,t){return e.endpoint.trim().replace(/\/$/,"")+"/"+(t=t.trim().replace(/(^\/|\/$)/g,""))}function w(){try{throw new Error("")}catch(i){if(i.stack)return i.stack}for(var e=10,t=[],n=arguments.callee;n&&t.length<e;){/function(?:\s+([\w$]+))+\s*\(/.test(n.toString())?t.push(RegExp.$1||"<anonymous>"):t.push("<anonymous>");try{n=n.caller}catch(i){break}}return t.join("\n")}function E(e,t){function n(e){var r,o;if(_("Object",e)||_("Array",e)){if(-1!==i.indexOf(e))return"[CIRCULAR DATA STRUCTURE]";i.push(e)}if(_("Object",e)){for(r in o={},e)S(r,t)?o[r]="[FILTERED]":o[r]=n(e[r]);return o}return _("Array",e)?e.map(function(e){return n(e)}):_("Function",e)?"[FUNC]":e}if(_("Object",e)){_("Array",t)||(t=[]);var i=[];return n(e)}}function S(e,t){for(var n=0;n<t.length;n++)if(-1!==e.toLowerCase().indexOf(t[n].toLowerCase()))return!0;return!1}function _(e,t){var n=Object.prototype.toString.call(t).slice(8,-1);return t!==undefined&&null!==t&&n===e}function k(e,t){if(!t)return e;if("string"!=typeof e)return e;var n=e.split(/\?/,2)[1];if(!n)return e;var i=e;return n.split(/[&]\s?/).forEach(function(e){var n=e.split("=",2),r=n[0],o=n[1];S(r,t)&&(i=i.replace(r+"="+o,r+"=[FILTERED]"))}),i}function T(e,t){void 0===t&&(t="");var n={};return Object.keys(e).forEach(function(i){var r=t+i.replace(/\W/g,"_").toUpperCase();n[r]=e[i]}),n}function L(e){if(!e||!e.tagName)return"";var t=e.tagName.toLowerCase();if("html"===t)return"";e.id&&(t+="#"+e.id);var n=e.getAttribute("class");n&&n.split(/\s+/).forEach(function(e){t+="."+e}),["alt","name","title","type"].forEach(function(n){var i=e.getAttribute(n);i&&(t+="["+n+'="'+i+'"]')});var i=H(e);return i.length>1&&(t+=":nth-child("+(Array.prototype.indexOf.call(i,e)+1)+")"),t}function C(e){var t=L(e);if(e.parentNode&&e.parentNode.tagName){var n=C(e.parentNode);if(n.length>0)return n+" > "+t}return t}function I(e){var t=e.textContent||e.innerText||"";return t||"submit"!==e.type&&"button"!==e.type||(t=e.value),N(t.trim(),300)}function A(){if(!window.fetch)return!1;if(x(window.fetch))return!0;try{var e=document.createElement("iframe");e.style.display="none",document.head.appendChild(e);var t=e.contentWindow.fetch&&x(e.contentWindow.fetch);return document.head.removeChild(e),t}catch(n){console&&console.warn&&console.warn("failed to detect native fetch via iframe: "+n)}return!1}function x(e){return-1!==e.toString().indexOf("native")}function R(e){var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/)||{};return{protocol:t[2],host:t[4],pathname:t[5]}}function B(e){var t=R(e),n=R(document.URL);return t.host&&t.protocol?t.protocol===n.protocol&&t.host===n.host?t.pathname:t.protocol+"://"+t.host+t.pathname:t.pathname}function M(e){var t={};return e.split(/[;,]\s?/).forEach(function(e){var n=e.split("=",2),i=n[0],r=n[1];t[i]=r}),t}function P(e){if("object"!=typeof e)return undefined;var t=[];for(var n in e)t.push(n+"="+e[n]);return t.join(";")}function H(e){try{var t=e.parentNode.childNodes,n=[];return Array.prototype.forEach.call(t,function(t){t.tagName&&t.tagName===e.tagName&&n.push(t)}),n}catch(i){return[]}}function N(e,t){return e.length>t&&(e=e.substr(0,t)+"..."),e}function O(){se+=1,clearTimeout(z),z=setTimeout(function(){se=0})}function F(e){return void 0===e&&(e=window),{load:function(t){y(e,"onerror",function(e){var n=function(e,n,i,r,o){if(t.logger.debug("window.onerror callback invoked",arguments),se>0)return t.logger.debug("Ignoring window.onerror (error likely reported earlier)",arguments),void(se-=1);if(t.config.enableUncaught)if(0===i&&/Script error\.?/.test(e))t.logger.info("Ignoring cross-domain script error: enable CORS to track these types of errors",arguments);else{var a=v(o);a.name||(a.name="window.onerror"),a.message||(a.message=e),a.stack||(a.stack=[a.message,"\n    at ? (",n||"unknown",":",i||0,":",r||0,")"].join("")),t.addBreadcrumb("window.onerror"!==a.name&&a.name?"window.onerror: "+a.name:"window.onerror",{category:"error",metadata:{name:a.name,message:a.message,stack:a.stack}}),t.notify(a)}};return function(t,i,r,o,a){return n(t,i,r,o,a),"function"==typeof e&&e.apply(window,arguments)}})}}}function $(e){return void 0===e&&(e=window),{load:function(t){t.config.enableUnhandledRejection&&y(e,"onunhandledrejection",function(e){function n(e){var n;if(t.logger.debug("window.onunhandledrejection callback invoked",arguments),t.config.enableUnhandledRejection){var i=e.reason;if(i instanceof Error){var r="unknown",o=0,a=i.message+"\n    at ? ("+r+":"+o+")",s=i.stack||a,c={name:i.name,message:"UnhandledPromiseRejectionWarning: "+i,stack:s};return t.addBreadcrumb("window.onunhandledrejection: "+c.name,{category:"error",metadata:c}),void t.notify(c)}var l="string"==typeof i?i:null!==(n=JSON.stringify(i))&&void 0!==n?n:"Unspecified reason";t.notify({name:"window.onunhandledrejection",message:"UnhandledPromiseRejectionWarning: "+l})}}return function(t){n(t),"function"==typeof e&&e.apply(this,arguments)}})}}}function D(e){return void 0===e&&(e=window),{load:function(t){function n(e){return!0===t.config.breadcrumbsEnabled||(e?!0===t.config.breadcrumbsEnabled[e]:!1!==t.config.breadcrumbsEnabled)}!function(){function i(e){return Array.isArray(e)?e.map(function(e){try{return String(e)}catch(t){return"[unknown]"}}).join(" "):""}n("console")&&["debug","info","warn","error","log"].forEach(function(n){y(e.console,n,function(r){return function(){var o=Array.prototype.slice.call(arguments),a=i(o),s={category:"log",metadata:{level:n,arguments:f(o,3)}};t.addBreadcrumb(a,s),"function"==typeof r&&Function.prototype.apply.call(r,e.console,arguments)}})})}(),n("dom")&&e.addEventListener("click",function(e){var n,i,r;try{n=L(e.target),i=C(e.target),r=I(e.target)}catch(o){n="UI Click",i="[unknown]",r="[unknown]"}0!==n.length&&t.addBreadcrumb(n,{category:"ui.click",metadata:{selector:i,text:r,event:e}})},!0),n("network")&&(y(XMLHttpRequest.prototype,"open",function(e){return function(){var t=this,n=arguments[1],i="string"==typeof arguments[0]?arguments[0].toUpperCase():arguments[0],r=i+" "+B(n);this.__hb_xhr={type:"xhr",method:i,url:n,message:r},"function"==typeof e&&e.apply(t,arguments)}}),y(XMLHttpRequest.prototype,"send",function(e){return function(){function n(){if(4===i.readyState){var e=void 0;i.__hb_xhr&&(i.__hb_xhr.status_code=i.status,e=i.__hb_xhr.message,delete i.__hb_xhr.message),t.addBreadcrumb(e||"XMLHttpRequest",{category:"request",metadata:i.__hb_xhr})}}var i=this;"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?y(i,"onreadystatechange",function(e){return function(){n(),"function"==typeof e&&e.apply(this,arguments)}}):i.onreadystatechange=n,"function"==typeof e&&e.apply(i,arguments)}})),n("network")&&A()&&y(e,"fetch",function(n){return function(){var i,r=arguments[0],o="GET";"string"==typeof r?i=r:"Request"in e&&r instanceof Request?(i=r.url,r.method&&(o=r.method)):i=String(r),arguments[1]&&arguments[1].method&&(o=arguments[1].method),"string"==typeof o&&(o=o.toUpperCase());var a=o+" "+B(i),s={type:"fetch",method:o,url:i};return n.apply(this,arguments).then(function(e){return s.status_code=e.status,t.addBreadcrumb(a,{category:"request",metadata:s}),e})["catch"](function(e){throw t.addBreadcrumb("fetch error",{category:"error",metadata:s}),e})}}),function(){function i(e,n){o=n,t.addBreadcrumb("Page changed",{category:"navigation",metadata:{from:e,to:n}})}function r(e){return function(){var t=arguments.length>2?arguments[2]:undefined;return t&&i(o,String(t)),e.apply(this,arguments)}}if(n("navigation")){var o=e.location.href;y(e,"onpopstate",function(t){return function(){if(i(o,e.location.href),t)return t.apply(this,arguments)}}),y(e.history,"pushState",r),y(e.history,"replaceState",r)}}()}}}function q(e){return void 0===e&&(e=window),{load:function(t){!function(){function n(e){return function(n){return function(i,r){if("function"==typeof i){var o=Array.prototype.slice.call(arguments,2);return i=t.__wrap(i,e),n(function(){i.apply(void 0,o)},r)}return n(i,r)}}}y(e,"setTimeout",n({component:"setTimeout"})),y(e,"setInterval",n({component:"setInterval"}))}()}}}function j(e){return void 0===e&&(e=window),{load:function(t){["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"].forEach(function(n){var i=e[n]&&e[n].prototype;i&&Object.prototype.hasOwnProperty.call(i,"addEventListener")&&(y(i,"addEventListener",function(e){var i={component:n+".prototype.addEventListener"};return function(n,r,o,a){try{r&&null!=r.handleEvent&&(r.handleEvent=t.__wrap(r.handleEvent,i))}catch(s){t.logger.error(s)}return e.call(this,n,t.__wrap(r,i),o,a)}}),y(i,"removeEventListener",function(e){return function(n,i,r,o){return e.call(this,n,i,r,o),e.call(this,n,t.__wrap(i),r,o)}}))})}}}var z,U=function(e,t){return(U=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},V=function(){return(V=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},W="<unknown>",J=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|\/|[a-z]:\\|\\\\).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,K=/\((\S*)(?::(\d+))(?::(\d+))\)/,X=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Y=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i,G=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Z=/^\s*(?:([^@]*)(?:\((.*?)\))?@)?(\S.*?):(\d+)(?::(\d+))?\s*$/i,Q=/^\s*at (?:((?:\[object object\])?[^\\/]+(?: \[as \S+\])?) )?\(?(.*?):(\d+)(?::(\d+))?\)?\s*$/i,ee={name:"honeybadger-js",url:"https://github.com/honeybadger-io/honeybadger-js",version:"3.2.8"},te=/,/,ne=/[^\w]/g,ie="",re=/\S/,oe=function(){function e(e){void 0===e&&(e={}),this.__pluginsExecuted=!1,this.__context={},this.__breadcrumbs=[],this.__beforeNotifyHandlers=[],this.__afterNotifyHandlers=[],this.config=V({apiKey:null,endpoint:"https://api.honeybadger.io",environment:null,hostname:null,projectRoot:null,component:null,action:null,revision:null,reportData:null,breadcrumbsEnabled:!0,maxBreadcrumbs:40,maxObjectDepth:8,logger:console,developmentEnvironments:["dev","development","test"],disabled:!1,debug:!1,tags:null,enableUncaught:!0,enableUnhandledRejection:!0,afterUncaught:function(){return!0},filters:["creditcard","password"],__plugins:[]},e),this.logger=g(this)}return e.prototype.factory=function(){throw new Error("Must implement __factory in subclass")},e.prototype.getVersion=function(){return ee.version},e.prototype.configure=function(e){var t=this;for(var n in void 0===e&&(e={}),e)this.config[n]=e[n];return this.__pluginsExecuted||(this.__pluginsExecuted=!0,this.config.__plugins.forEach(function(e){return e.load(t)})),this},e.prototype.beforeNotify=function(e){return this.__beforeNotifyHandlers.push(e),this},e.prototype.afterNotify=function(e){return this.__afterNotifyHandlers.push(e),this},e.prototype.setContext=function(e){return"object"==typeof e&&(this.__context=s(this.__context,e)),this},e.prototype.resetContext=function(e){return this.logger.warn("Deprecation warning: `Honeybadger.resetContext()` has been deprecated; please use `Honeybadger.clear()` instead."),this.__context="object"==typeof e&&null!==e?s({},e):{},this},e.prototype.clear=function(){return this.__context={},this.__breadcrumbs=[],this},e.prototype.notify=function(e,t,n){if(void 0===t&&(t=undefined),void 0===n&&(n=undefined),this.config.disabled)return this.logger.warn("Deprecation warning: instead of `disabled: true`, use `reportData: false` to explicitly disable Honeybadger reporting. (Dropping notice: honeybadger.js is disabled)"),!1;if(!this.__reportData())return this.logger.debug("Dropping notice: honeybadger.js is in development mode"),!1;if(!this.config.apiKey)return this.logger.warn("Unable to send error report: no API key has been configured"),!1;(e=v(e),t&&"object"!=typeof t)&&(t={name:String(t)});if(t&&(e=c(e,t)),"object"==typeof n&&null!==n&&(e=c(e,n)),l(e))return!1;var i=this.__constructTags(e.tags),r=this.__constructTags(this.__context.tags),o=this.__constructTags(this.config.tags),a=i.concat(r).concat(o),d=a.filter(function(e,t){return a.indexOf(e)===t}),h=0;return"string"==typeof(e=s(e,{name:e.name||"Error",context:s(this.__context,e.context),projectRoot:e.projectRoot||this.config.projectRoot,environment:e.environment||this.config.environment,component:e.component||this.config.component,action:e.action||this.config.action,revision:e.revision||this.config.revision,tags:d})).stack&&e.stack.trim()||(e.stack=w(),h=2),e.backtrace=u(e.stack,h),!!m(e,this.__beforeNotifyHandlers)&&(this.addBreadcrumb("Honeybadger Notice",{category:"notice",metadata:{message:e.message,name:e.name,stack:e.stack}}),e.__breadcrumbs=this.config.breadcrumbsEnabled?this.__breadcrumbs.slice():[],this.__send(e))},e.prototype.addBreadcrumb=function(e,t){if(this.config.breadcrumbsEnabled){var n=p((t=t||{}).metadata),i=t.category||"custom",r=(new Date).toISOString();this.__breadcrumbs.push({category:i,message:e,metadata:n,timestamp:r});var o=this.config.maxBreadcrumbs;return this.__breadcrumbs.length>o&&(this.__breadcrumbs=this.__breadcrumbs.slice(this.__breadcrumbs.length-o)),this}},e.prototype.__reportData=function(){return null!==this.config.reportData?this.config.reportData:!(this.config.environment&&this.config.developmentEnvironments.includes(this.config.environment))},e.prototype.__send=function(){throw new Error("Must implement send in subclass")},e.prototype.__buildPayload=function(e){var t=E(e.headers,this.config.filters)||{},n=E(V(V({},e.cgiData),T(t,"HTTP_")),this.config.filters);return{notifier:ee,breadcrumbs:{enabled:!!this.config.breadcrumbsEnabled,trail:e.__breadcrumbs||[]},error:{"class":e.name,message:e.message,backtrace:e.backtrace,fingerprint:e.fingerprint,tags:e.tags},request:{url:k(e.url,this.config.filters),component:e.component,action:e.action,context:e.context,cgi_data:n,params:E(e.params,this.config.filters)||{},session:E(e.session,this.config.filters)||{}},server:{project_root:e.projectRoot,environment_name:e.environment,revision:e.revision,hostname:this.config.hostname,time:(new Date).toUTCString()},details:e.details||{}}},e.prototype.__constructTags=function(e){return e?e.toString().split(te).map(function(e){return e.replace(ne,ie)}).filter(function(e){return re.test(e)}):[]},e}(),ae=function(){var e=!0;if(window.atob||(e=!1),window.ErrorEvent)try{0===new window.ErrorEvent("").colno&&(e=!1)}catch(t){}return e}(),se=0;return new(function(t){function n(e){void 0===e&&(e={});var n=t.call(this,V({async:!0,maxErrors:null,projectRoot:window.location.protocol+"//"+window.location.host},e))||this;return n.__errorsSent=0,n.__lastWrapErr=undefined,n.__beforeNotifyHandlers=[function(e){return n.__exceedsMaxErrors()?(n.logger.debug("Dropping notice: max errors exceeded",e),!1):(e.url||(e.url=document.URL),!0)}],n}return e(n,t),n.prototype.configure=function(e){return void 0===e&&(e={}),t.prototype.configure.call(this,e)},n.prototype.resetMaxErrors=function(){return this.__errorsSent=0},n.prototype.factory=function(e){return new n(e)},n.prototype.__buildPayload=function(e){var n,i={HTTP_USER_AGENT:undefined,HTTP_REFERER:undefined,HTTP_COOKIE:undefined};i.HTTP_USER_AGENT=navigator.userAgent,document.referrer.match(/\S/)&&(i.HTTP_REFERER=document.referrer),(n="string"==typeof e.cookies?M(e.cookies):e.cookies)&&(i.HTTP_COOKIE=P(E(n,this.config.filters)));var r=t.prototype.__buildPayload.call(this,e);return r.request.cgi_data=s(i,r.request.cgi_data),r},n.prototype.__send=function(e){var t=this;this.__incrementErrorsCount();var n=this.__buildPayload(e),i=Array.prototype.slice.call(this.__afterNotifyHandlers);e.afterNotify&&i.unshift(e.afterNotify);try{var r=new XMLHttpRequest;r.open("POST",b(this.config,"/v1/notices/js"),this.config.async),r.setRequestHeader("X-API-Key",this.config.apiKey),r.setRequestHeader("Content-Type","application/json"),r.setRequestHeader("Accept","text/json, application/json"),r.send(JSON.stringify(f(n,this.config.maxObjectDepth))),r.onload=function(){if(201!==r.status)return h(e,i,new Error("Bad HTTP response: "+r.status)),void t.logger.debug("Unable to send error report: "+r.status+": "+r.statusText,r,e);h(s(e,{id:JSON.parse(r.response).id}),i),t.logger.debug("Error report sent",e)}}catch(o){h(e,i,o),this.logger.error("Unable to send error report: error while initializing request",o,e)}return!0},n.prototype.__wrap=function(e,t){void 0===t&&(t={});var n=e;t||(t={});try{if("function"!=typeof n)return n;if(!d(n))return n;if(!n.___hb){var i=this;n.___hb=function(){var e=i.config.enableUncaught;if(!t["catch"]&&!ae&&e)return n.apply(this,arguments);try{return n.apply(this,arguments)}catch(r){if(i.__lastWrapErr===r)throw r;throw i.__lastWrapErr=r,O(),i.addBreadcrumb(t.component?t.component+": "+r.name:r.name,{category:"error",metadata:{message:r.message,name:r.name,stack:r.stack}}),i.notify(r),r}}}return n.___hb.___hb=n.___hb,n.___hb}catch(r){return n}},n.prototype.__incrementErrorsCount=function(){return this.__errorsSent++},n.prototype.__exceedsMaxErrors=function(){return this.config.maxErrors&&this.__errorsSent>=this.config.maxErrors},n}(oe))({__plugins:[F(),$(),q(),j(),D()]})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Turbo={})}(this,function(e){"use strict";function t(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null,n=t?t.closest("input, button"):null;return"submit"==(null==n?void 0:n.type)?n:null}function n(e){const n=t(e.target);n&&n.form&&le.set(n.form,n)}function i(e){switch(e.toLowerCase()){case"lazy":return de.lazy;default:return de.eager}}function r(e){return new URL(e.toString(),document.baseURI)}function o(e){let t;return e.hash?e.hash.slice(1):(t=e.href.match(/#(.*)$/))?t[1]:void 0}function a(e,t){return r((null==t?void 0:t.getAttribute("formaction"))||e.getAttribute("action")||e.action)}function s(e){return(f(e).match(/\.[^.]*$/)||[])[0]||""}function c(e){return!!s(e).match(/^(?:|\.(?:htm|html|xhtml))$/)}function l(e,t){const n=g(t);return e.href===r(n).href||e.href.startsWith(n)}function d(e,t){return l(e,t)&&c(e)}function u(e){const t=o(e);return null!=t?e.href.slice(0,-(t.length+1)):e.href}function m(e){return u(e)}function h(e,t){return r(e).href==r(t).href}function p(e){return e.pathname.split("/").slice(1)}function f(e){return p(e).slice(-1)[0]}function g(e){return v(e.origin+e.pathname)}function v(e){return e.endsWith("/")?e:e+"/"}function y(e,{target:t,cancelable:n,detail:i}={}){const r=new CustomEvent(e,{cancelable:n,bubbles:!0,detail:i});return t&&t.isConnected?t.dispatchEvent(r):document.documentElement.dispatchEvent(r),r}function b(){return new Promise(e=>requestAnimationFrame(()=>e()))}function w(){return new Promise(e=>setTimeout(()=>e(),0))}function E(){return Promise.resolve()}function S(e=""){return(new DOMParser).parseFromString(e,"text/html")}function _(e,...t){const n=k(e,t).replace(/^\n/,"").split("\n"),i=n[0].match(/^\s+/),r=i?i[0].length:0;return n.map(e=>e.slice(r)).join("\n")}function k(e,t){return e.reduce((e,n,i)=>{return e+n+(t[i]==undefined?"":t[i])},"")}function T(){return Array.apply(null,{length:36}).map((e,t)=>8==t||13==t||18==t||23==t?"-":14==t?"4":19==t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16)).join("")}function L(e,...t){for(const n of t.map(t=>null==t?void 0:t.getAttribute(e)))if("string"==typeof n)return n;return null}function C(...e){for(const t of e)"turbo-frame"==t.localName&&t.setAttribute("busy",""),t.setAttribute("aria-busy","true")}function I(...e){for(const t of e)"turbo-frame"==t.localName&&t.removeAttribute("busy"),t.removeAttribute("aria-busy")}function A(e){switch(e.toLowerCase()){case"get":return ue.get;case"post":return ue.post;case"put":return ue.put;case"patch":return ue.patch;case"delete":return ue["delete"]}}function x(e){switch(e.toLowerCase()){case he.multipart:return he.multipart;case he.plain:return he.plain;default:return he.urlEncoded}}function R(e,t){const n=new FormData(e),i=null==t?void 0:t.getAttribute("name"),r=null==t?void 0:t.getAttribute("value");return i&&null!=r&&n.get(i)!=r&&n.append(i,r),n}function B(e){if(null!=e){const t=(document.cookie?document.cookie.split("; "):[]).find(t=>t.startsWith(e));if(t){const e=t.split("=").slice(1).join("=");return e?decodeURIComponent(e):undefined}}}function M(e){const t=document.querySelector(`meta[name="${e}"]`);return t&&t.content}function P(e){return 200==e.statusCode&&!e.redirected}function H(e,t){const n=new URLSearchParams;for(const[e,i]of t)i instanceof File||n.append(e,i);return e.search=n.toString(),e}function N(e){const t=document.createElement("meta");return t.setAttribute("name","turbo-permanent-placeholder"),t.setAttribute("content",e.id),t}function O(e,t){for(const{name:n,value:i}of[...t.attributes])e.setAttribute(n,i)}function F(e){return e&&"function"==typeof e.focus}function $(e,t){return"end"==e||"start"==e||"center"==e||"nearest"==e?e:t}function D(e){
return j(e)?"script":U(e)?"stylesheet":void 0}function q(e){return"reload"==e.getAttribute("data-turbo-track")}function j(e){return"script"==e.tagName.toLowerCase()}function z(e){return"noscript"==e.tagName.toLowerCase()}function U(e){const t=e.tagName.toLowerCase();return"style"==t||"link"==t&&"stylesheet"==e.getAttribute("rel")}function V(e,t){return"meta"==e.tagName.toLowerCase()&&e.getAttribute("name")==t}function W(e){return e.hasAttribute("nonce")&&e.setAttribute("nonce",""),e}function J(e){return e>=200&&e<300}function K(e){return"advance"==e||"replace"==e||"restore"==e}function X(e){var t;const n=null===(t=e.detail)||void 0===t?void 0:t.fetchResponse;if(n instanceof ve)return n}function Y(e){var t;return(null!==(t=e.contentType)&&void 0!==t?t:"").startsWith(we.contentType)}function G(e){Object.defineProperties(e,Ze)}function Z(){Qe.start()}function Q(e){Qe.registerAdapter(e)}function ee(e,t){Qe.visit(e,t)}function te(e){Qe.connectStreamSource(e)}function ne(e){Qe.disconnectStreamSource(e)}function ie(e){Qe.renderStreamMessage(e)}function re(){Qe.clearCache()}function oe(e){Qe.setProgressBarDelay(e)}function ae(e){Ee.confirmMethod=e}function se(e){if(null!=e){const t=document.getElementById(e);if(t instanceof ge)return t}}function ce(e,t){if(e){const n=e.getAttribute("src");if(null!=n&&null!=t&&h(n,t))throw new Error(`Matching <turbo-frame id="${e.id}"> element has a source URL which references itself`);if(e.ownerDocument!==document&&(e=document.importNode(e,!0)),e instanceof ge)return e.connectedCallback(),e.disconnectedCallback(),e}}!function(){if(window.Reflect===undefined||window.customElements===undefined||window.customElements.polyfillWrapFlushCallback)return;const e=HTMLElement,t={HTMLElement:function(){return Reflect.construct(e,[],this.constructor)}};window.HTMLElement=t.HTMLElement,HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}(),function(e){function t(e,t){e instanceof HTMLElement||n(TypeError,"parameter 1 is not of type 'HTMLElement'"),"submit"==e.type||n(TypeError,"The specified element is not a submit button"),e.form==t||n(DOMException,"The specified element is not owned by this form element","NotFoundError")}function n(e,t,n){throw new e("Failed to execute 'requestSubmit' on 'HTMLFormElement': "+t+".",n)}"function"!=typeof e.requestSubmit&&(e.requestSubmit=function(e){e?(t(e,this),e.click()):((e=document.createElement("input")).type="submit",e.hidden=!0,this.appendChild(e),e.click(),this.removeChild(e))})}(HTMLFormElement.prototype);const le=new WeakMap;var de,ue,me,he,pe,fe;!function(){if("submitter"in Event.prototype)return;let e;if("SubmitEvent"in window&&/Apple Computer/.test(navigator.vendor))e=window.SubmitEvent.prototype;else{if("SubmitEvent"in window)return;e=window.Event.prototype}addEventListener("click",n,!0),Object.defineProperty(e,"submitter",{get(){if("submit"==this.type&&this.target instanceof HTMLFormElement)return le.get(this.target)}})}(),function(e){e.eager="eager",e.lazy="lazy"}(de||(de={}));class ge extends HTMLElement{constructor(){super(),this.loaded=Promise.resolve(),this.delegate=new ge.delegateConstructor(this)}static get observedAttributes(){return["disabled","loading","src"]}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){const{src:e}=this;this.src=null,this.src=e}attributeChangedCallback(e){"loading"==e?this.delegate.loadingStyleChanged():"src"==e?this.delegate.sourceURLChanged():this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get loading(){return i(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){var e,t;return null===(t=null===(e=this.ownerDocument)||void 0===e?void 0:e.documentElement)||void 0===t?void 0:t.hasAttribute("data-turbo-preview")}}class ve{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return r(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(undefined)}header(e){return this.response.headers.get(e)}}!function(e){e[e.get=0]="get",e[e.post=1]="post",e[e.put=2]="put",e[e.patch=3]="patch",e[e["delete"]=4]="delete"}(ue||(ue={}));class ye{constructor(e,t,n,i=new URLSearchParams,r=null){this.abortController=new AbortController,this.resolveRequestPromise=(()=>{}),this.delegate=e,this.method=t,this.headers=this.defaultHeaders,this.body=i,this.url=n,this.target=r}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){var e,t;const{fetchOptions:n}=this;null===(t=(e=this.delegate).prepareHeadersForRequest)||void 0===t||t.call(e,this.headers,this),await this.allowRequestToBeIntercepted(n);try{this.delegate.requestStarted(this);const e=await fetch(this.url.href,n);return await this.receive(e)}catch(i){if("AbortError"!==i.name)throw this.delegate.requestErrored(this,i),i}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new ve(e);return y("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get fetchOptions(){var e;return{method:ue[this.method].toUpperCase(),credentials:"same-origin",headers:this.headers,redirect:"follow",body:this.isIdempotent?null:this.body,signal:this.abortSignal,referrer:null===(e=this.delegate.referrer)||void 0===e?void 0:e.href}}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isIdempotent(){return this.method==ue.get}get abortSignal(){return this.abortController.signal}async allowRequestToBeIntercepted(e){const t=new Promise(e=>this.resolveRequestPromise=e);y("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.resolveRequestPromise},target:this.target}).defaultPrevented&&await t}}class be{constructor(e,t){this.started=!1,this.intersect=(e=>{const t=e.slice(-1)[0];(null==t?void 0:t.isIntersecting)&&this.delegate.elementAppearedInViewport(this.element)}),this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}}class we{constructor(e){this.templateElement=document.createElement("template"),this.templateElement.innerHTML=e}static wrap(e){return"string"==typeof e?new this(e):e}get fragment(){const e=document.createDocumentFragment();for(const t of this.foreignElements)e.appendChild(document.importNode(t,!0));return e}get foreignElements(){return this.templateChildren.reduce((e,t)=>"turbo-stream"==t.tagName.toLowerCase()?[...e,t]:e,[])}get templateChildren(){return Array.from(this.templateElement.content.children)}}we.contentType="text/vnd.turbo-stream.html",function(e){e[e.initialized=0]="initialized",e[e.requesting=1]="requesting",e[e.waiting=2]="waiting",e[e.receiving=3]="receiving",e[e.stopping=4]="stopping",e[e.stopped=5]="stopped"}(me||(me={})),function(e){e.urlEncoded="application/x-www-form-urlencoded",e.multipart="multipart/form-data",e.plain="text/plain"}(he||(he={}));class Ee{constructor(e,t,n,i=!1){this.state=me.initialized,this.delegate=e,this.formElement=t,this.submitter=n,this.formData=R(t,n),this.location=r(this.action),this.method==ue.get&&H(this.location,[...this.body.entries()]),this.fetchRequest=new ye(this,this.method,this.location,this.body,this.formElement),this.mustRedirect=i}static confirmMethod(e,t){return confirm(e)}get method(){var e;return A(((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formmethod"))||this.formElement.getAttribute("method")||"").toLowerCase())||ue.get}get action(){var e;const t="string"==typeof this.formElement.action?this.formElement.action:null;return(null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formaction"))||this.formElement.getAttribute("action")||t||""}get body(){return this.enctype==he.urlEncoded||this.method==ue.get?new URLSearchParams(this.stringFormData):this.formData}get enctype(){var e;return x((null===(e=this.submitter)||void 0===e?void 0:e.getAttribute("formenctype"))||this.formElement.enctype)}get isIdempotent(){return this.fetchRequest.isIdempotent}get stringFormData(){return[...this.formData].reduce((e,[t,n])=>e.concat("string"==typeof n?[[t,n]]:[]),[])}get confirmationMessage(){return this.formElement.getAttribute("data-turbo-confirm")}get needsConfirmation(){return null!==this.confirmationMessage}async start(){const{initialized:e,requesting:t}=me;if(this.needsConfirmation){if(!Ee.confirmMethod(this.confirmationMessage,this.formElement))return}if(this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=me;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareHeadersForRequest(e,t){if(!t.isIdempotent){const t=B(M("csrf-param"))||M("csrf-token");t&&(e["X-CSRF-Token"]=t),e.Accept=[we.contentType,e.Accept].join(", ")}}requestStarted(e){var t;this.state=me.waiting,null===(t=this.submitter)||void 0===t||t.setAttribute("disabled",""),y("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError)this.delegate.formSubmissionFailedWithResponse(this,t);else if(this.requestMustRedirect(e)&&P(t)){const e=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,e)}else this.state=me.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){var t;this.state=me.stopped,null===(t=this.submitter)||void 0===t||t.removeAttribute("disabled"),y("turbo:submit-end",{target:this.formElement,detail:Object.assign({formSubmission:this},this.result)}),this.delegate.formSubmissionFinished(this)}requestMustRedirect(e){return!e.isIdempotent&&this.mustRedirect}}class Se{constructor(e){this.element=e}get children(){return[...this.element.children]}hasAnchor(e){return null!=this.getElementForAnchor(e)}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return this.element.querySelector("[autofocus]")}get permanentElements(){return[...this.element.querySelectorAll("[id][data-turbo-permanent]")]}getPermanentElementById(e){return this.element.querySelector(`#${e}[data-turbo-permanent]`)}getPermanentElementMapForSnapshot(e){const t={};for(const n of this.permanentElements){const{id:i}=n,r=e.getPermanentElementById(i);r&&(t[i]=[n,r])}return t}}class _e{constructor(e,t){this.submitBubbled=(e=>{const t=e.target;if(!e.defaultPrevented&&t instanceof HTMLFormElement&&t.closest("turbo-frame, html")==this.element){const n=e.submitter||undefined;"dialog"!=((null==n?void 0:n.getAttribute("formmethod"))||t.method)&&this.delegate.shouldInterceptFormSubmission(t,n)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmissionIntercepted(t,n))}}),this.delegate=e,this.element=t}start(){this.element.addEventListener("submit",this.submitBubbled)}stop(){this.element.removeEventListener("submit",this.submitBubbled)}}class ke{constructor(e,t){this.resolveRenderPromise=(()=>{}),this.resolveInterceptionPromise=(()=>{}),this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.scrollToElement(t),this.focusElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(o(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:n,newSnapshot:i}=e;if(n)try{this.renderPromise=new Promise(e=>this.resolveRenderPromise=e),this.renderer=e,this.prepareToRenderSnapshot(e);const n=new Promise(e=>this.resolveInterceptionPromise=e);this.delegate.allowsImmediateRender(i,this.resolveInterceptionPromise)||await n,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(i,t),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.resolveRenderPromise(undefined),delete this.renderPromise}else this.invalidate()}invalidate(){this.delegate.viewInvalidated()}prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class Te extends ke{invalidate(){this.element.innerHTML=""}get snapshot(){return new Se(this.element)}}class Le{constructor(e,t){this.clickBubbled=(e=>{this.respondsToEventTarget(e.target)?this.clickEvent=e:delete this.clickEvent}),this.linkClicked=(e=>{this.clickEvent&&this.respondsToEventTarget(e.target)&&e.target instanceof Element&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url)),delete this.clickEvent}),this.willVisit=(()=>{delete this.clickEvent}),this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}respondsToEventTarget(e){const t=e instanceof Element?e:e instanceof Node?e.parentElement:null;return t&&t.closest("turbo-frame, html")==this.element}}class Ce{constructor(e){this.permanentElementMap=e}static preservingPermanentElements(e,t){const n=new this(e);n.enter(),t(),n.leave()}enter(){for(const e in this.permanentElementMap){const[,t]=this.permanentElementMap[e];this.replaceNewPermanentElementWithPlaceholder(t)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=N(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){const t=this.getPlaceholderById(e.id);null==t||t.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}class Ie{constructor(e,t,n,i=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=n,this.willRender=i,this.promise=new Promise((e,t)=>this.resolvingFunctions={resolve:e,reject:t})}get shouldRender(){return!0}prepareToRender(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}createScriptElement(e){if("false"==e.getAttribute("data-turbo-eval"))return e;{const t=document.createElement("script");return this.cspNonce&&(t.nonce=this.cspNonce),t.textContent=e.textContent,t.async=!1,O(t,e),t}}preservingPermanentElements(e){Ce.preservingPermanentElements(this.permanentElementMap,e)}focusFirstAutofocusableElement(){const e=this.connectedSnapshot.firstAutofocusableElement;F(e)&&e.focus()}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get cspNonce(){var e;return null===(e=document.head.querySelector('meta[name="csp-nonce"]'))||void 0===e?void 0:e.getAttribute("content")}}class Ae extends Ie{get shouldRender(){return!0}async render(){await b(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await b(),this.focusFirstAutofocusableElement(),await b(),this.activateScriptElements()}loadFrameElement(){var e;const t=document.createRange();t.selectNodeContents(this.currentElement),t.deleteContents();const n=this.newElement,i=null===(e=n.ownerDocument)||void 0===e?void 0:e.createRange();i&&(i.selectNodeContents(n),this.currentElement.appendChild(i.extractContents()))}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=$(this.currentElement.getAttribute("data-autoscroll-block"),"end");if(e)return e.scrollIntoView({block:t}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=this.createScriptElement(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}class xe{constructor(){this.hiding=!1,this.value=0,this.visible=!1,this.trickle=(()=>{this.setValue(this.value+Math.random()/100)}),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}static get defaultCSS(){return _`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 9999;
        transition:
          width ${xe.animationDuration}ms ease-out,
          opacity ${xe.animationDuration/2}ms ${xe.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,1.5*xe.animationDuration)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,xe.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+90*this.value}%`})}createStylesheetElement(){const e=document.createElement("style");return e.type="text/css",e.textContent=xe.defaultCSS,e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}xe.animationDuration=300;class Re extends Se{constructor(){super(...arguments),this.detailsByOuterHTML=this.children.filter(e=>!z(e)).map(e=>W(e)).reduce((e,t)=>{const{outerHTML:n}=t,i=n in e?e[n]:{type:D(t),tracked:q(t),elements:[]};return Object.assign(Object.assign({},e),{[n]:Object.assign(Object.assign({},i),{elements:[...i.elements,t]})})},{})}get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(e=>!(e in t.detailsByOuterHTML)).map(e=>this.detailsByOuterHTML[e]).filter(({type:t})=>t==e).map(({elements:[e]})=>e)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:n,tracked:i,elements:r}=this.detailsByOuterHTML[t];return null!=n||i?r.length>1?[...e,...r.slice(1)]:e:[...e,...r]},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,n)=>{const{elements:[i]}=this.detailsByOuterHTML[n];return V(i,e)?i:t},undefined)}}class Be extends Se{constructor(e,t){super(e),this.headSnapshot=t}static fromHTMLString(e=""){return this.fromDocument(S(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({head:e,body:t}){return new this(t,new Re(e))}clone(){return new Be(this.element.cloneNode(!0),this.headSnapshot)}get headElement(){return this.headSnapshot.element}get rootLocation(){var e;return r(null!==(e=this.getSetting("root"))&&void 0!==e?e:"/")}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return"no-preview"!=this.cacheControlValue}get isCacheable(){return"no-cache"!=this.cacheControlValue}get isVisitable(){return"reload"!=this.getSetting("visit-control")}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}!function(e){e.visitStart="visitStart",e.requestStart="requestStart",e.requestEnd="requestEnd",e.visitEnd="visitEnd"}(pe||(pe={})),function(e){e.initialized="initialized",e.started="started",e.canceled="canceled",e.failed="failed",e.completed="completed"}(fe||(fe={}));const Me={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0};var Pe,He;!function(e){e[e.networkFailure=0]="networkFailure",e[e.timeoutFailure=-1]="timeoutFailure",e[e.contentTypeMismatch=-2]="contentTypeMismatch"}(Pe||(Pe={}));class Ne{constructor(e,t,n,i={}){this.identifier=T(),this.timingMetrics={},this.followedRedirect=!1,this.historyChanged=!1,this.scrolled=!1,this.snapshotCached=!1,this.state=fe.initialized,this.delegate=e,this.location=t,this.restorationIdentifier=n||T();const{action:r,historyChanged:o,referrer:a,snapshotHTML:s,response:c,visitCachedSnapshot:l,willRender:d}=Object.assign(Object.assign({},Me),i);this.action=r,this.historyChanged=o,this.referrer=a,this.snapshotHTML=s,this.response=c,this.isSamePage=this.delegate.locationWithActionIsSamePage(this.location,this.action),this.visitCachedSnapshot=l,this.willRender=d,this.scrolled=!d}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}get silent(){return this.isSamePage}start(){this.state==fe.initialized&&(this.recordTimingMetric(pe.visitStart),this.state=fe.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==fe.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=fe.canceled)}complete(){this.state==fe.started&&(this.recordTimingMetric(pe.visitEnd),this.state=fe.completed,this.adapter.visitCompleted(this),this.delegate.visitCompleted(this),this.followRedirect())}fail(){this.state==fe.started&&(this.state=fe.failed,this.adapter.visitFailed(this))}changeHistory(){var e;if(!this.historyChanged){const t=this.location.href===(null===(e=this.referrer)||void 0===e?void 0:e.href)?"replace":this.action,n=this.getHistoryMethodForAction(t);this.history.update(n,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new ye(this,ue.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(pe.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;J(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(pe.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,J(e)&&null!=t?(await this.view.renderPage(Be.fromHTMLString(t),!1,this.willRender),this.adapter.visitRendered(this),this.complete()):(await this.view.renderError(Be.fromHTMLString(t)),this.adapter.visitRendered(this),this.fail())})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!o(this.location)||e.hasAnchor(o(this.location)))&&("restore"==this.action||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return Be.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return null!=this.getCachedSnapshot()}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isSamePage?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.view.renderPage(e,t,this.willRender),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){var e;this.redirectedToLocation&&!this.followedRedirect&&(null===(e=this.response)||void 0===e?void 0:e.redirected)&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response}),this.followedRedirect=!0)}goToSamePageAnchor(){this.isSamePage&&this.render(async()=>{this.cacheSnapshot(),this.adapter.visitRendered(this)})}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const n=await t.responseHTML,{redirected:i,statusCode:r}=t;n==undefined?this.recordResponse({statusCode:Pe.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:undefined,this.recordResponse({statusCode:r,responseHTML:n,redirected:i}))}async requestFailedWithResponse(e,t){const n=await t.responseHTML,{redirected:i,statusCode:r}=t;n==undefined?this.recordResponse({statusCode:Pe.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:r,responseHTML:n,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:Pe.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){this.scrolled||("restore"==this.action?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.isSamePage&&this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation,this.location),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=o(this.location);if(null!=e)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=(new Date).getTime()}getTimingMetrics(){return Object.assign({},this.timingMetrics)}getHistoryMethodForAction(e){switch(e){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}hasPreloadedResponse(){return"object"==typeof this.response}shouldIssueRequest(){return!this.isSamePage&&("restore"==this.action?!this.hasCachedSnapshot():this.willRender)}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot().then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(e=>{this.frame=requestAnimationFrame(()=>e())}),await e(),delete this.frame,this.performScroll()}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}class Oe{constructor(e){this.progressBar=new xe,this.showProgressBar=(()=>{this.progressBar.show()}),this.session=e}visitProposedToLocation(e,t){this.navigator.startVisit(e,T(),t)}visitStarted(e){e.loadCachedSnapshot(),e.issueRequest(),e.changeHistory(),e.goToSamePageAnchor()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||"restore"!=e.action?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse()}visitRequestFailedWithStatusCode(e,t){switch(t){case Pe.networkFailure:case Pe.timeoutFailure:case Pe.contentTypeMismatch:return this.reload();default:return e.loadResponse()}}visitRequestFinished(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitCompleted(e){}pageInvalidated(){this.reload()}visitFailed(e){}visitRendered(e){}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),null!=this.visitProgressBarTimeout&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){null==this.formProgressBarTimeout&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),null!=this.formProgressBarTimeout&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}reload(){window.location.reload()}get navigator(){return this.session.navigator}}class Fe{constructor(){this.started=!1}start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeStaleElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeStaleElements,!1))}removeStaleElements(){const e=[...document.querySelectorAll('[data-turbo-cache="false"]')];for(const t of e)t.remove()}}class $e{constructor(e){this.started=!1,this.submitCaptured=(()=>{removeEventListener("submit",this.submitBubbled,!1),addEventListener("submit",this.submitBubbled,!1)}),this.submitBubbled=(e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:undefined,n=e.submitter||undefined;if(t){"dialog"!=((null==n?void 0:n.getAttribute("formmethod"))||t.getAttribute("method"))&&this.delegate.willSubmitForm(t,n)&&(e.preventDefault(),this.delegate.formSubmitted(t,n))}}}),this.delegate=e}start(){this.started||(addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}}class De{constructor(e){this.element=e,this.linkInterceptor=new Le(this,e),this.formInterceptor=new _e(this,e)}start(){this.linkInterceptor.start(),this.formInterceptor.start()}stop(){this.linkInterceptor.stop(),this.formInterceptor.stop()}shouldInterceptLinkClick(e,t){return this.shouldRedirect(e)}linkClickIntercepted(e,t){const n=this.findFrameElement(e);n&&n.delegate.linkClickIntercepted(e,t)}shouldInterceptFormSubmission(e,t){return this.shouldSubmit(e,t)}formSubmissionIntercepted(e,t){const n=this.findFrameElement(e,t);n&&(n.removeAttribute("reloadable"),n.delegate.formSubmissionIntercepted(e,t))}shouldSubmit(e,t){var n;const i=a(e,t),o=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),s=r(null!==(n=null==o?void 0:o.content)&&void 0!==n?n:"/");return this.shouldRedirect(e,t)&&d(i,s)}shouldRedirect(e,t){const n=this.findFrameElement(e,t);return!!n&&n!=e.closest("turbo-frame")}findFrameElement(e,t){const n=(null==t?void 0:t.getAttribute("data-turbo-frame"))||e.getAttribute("data-turbo-frame");if(n&&"_top"!=n){const e=this.element.querySelector(`#${n}:not([disabled])`);if(e instanceof ge)return e}}}class qe{constructor(e){this.restorationIdentifier=T(),this.restorationData={},this.started=!1,this.pageLoaded=!1,this.onPopState=(e=>{if(this.shouldHandlePopState()){const{turbo:t}=e.state||{};if(t){this.location=new URL(window.location.href);const{restorationIdentifier:e}=t;this.restorationIdentifier=e,this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location,e)}}}),this.onPageLoad=(async()=>{await E(),this.pageLoaded=!0}),this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),addEventListener("load",this.onPageLoad,!1),this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),removeEventListener("load",this.onPageLoad,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,n=T()){const i={turbo:{restorationIdentifier:n}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=n}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,n=this.restorationData[t];this.restorationData[t]=Object.assign(Object.assign({},n),e)}assumeControlOfScrollRestoration(){var e;this.previousScrollRestoration||(this.previousScrollRestoration=null!==(e=history.scrollRestoration)&&void 0!==e?e:"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}shouldHandlePopState(){return this.pageIsLoaded()}pageIsLoaded(){return this.pageLoaded||"complete"==document.readyState}}class je{constructor(e){this.started=!1,this.clickCaptured=(()=>{removeEventListener("click",this.clickBubbled,!1),addEventListener("click",this.clickBubbled,!1)}),this.clickBubbled=(e=>{if(this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,n=this.findLinkFromClickTarget(t);if(n){const t=this.getLocationForLink(n);this.delegate.willFollowLinkToLocation(n,t)&&(e.preventDefault(),this.delegate.followedLinkToLocation(n,t))}}}),this.delegate=e}start(){this.started||(addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}findLinkFromClickTarget(e){if(e instanceof Element)return e.closest("a[href]:not([target^=_]):not([download])")}getLocationForLink(e){return r(e.getAttribute("href")||"")}}class ze{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&(d(e,this.view.snapshot.rootLocation)?this.delegate.visitProposedToLocation(e,t):window.location.href=e.toString())}startVisit(e,t,n={}){this.stop(),this.currentVisit=new Ne(this,r(e),t,Object.assign({referrer:this.location},n)),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new Ee(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}formSubmissionStarted(e){"function"==typeof this.adapter.formSubmissionStarted&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const n=await t.responseHTML;if(n){e.method!=ue.get&&this.view.clearSnapshotCache();const{statusCode:i,redirected:r}=t,o={action:this.getActionForFormSubmission(e),response:{statusCode:i,responseHTML:n,redirected:r}};this.proposeVisit(t.location,o)}}}async formSubmissionFailedWithResponse(e,t){const n=await t.responseHTML;if(n){const e=Be.fromHTMLString(n);t.serverError?await this.view.renderError(e):await this.view.renderPage(e),this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){"function"==typeof this.adapter.formSubmissionFinished&&this.adapter.formSubmissionFinished(e)}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e)}locationWithActionIsSamePage(e,t){const n=o(e),i=o(this.view.lastRenderedLocation),r="restore"===t&&void 0===n;return"replace"!==t&&u(e)===u(this.view.lastRenderedLocation)&&(r||null!=n&&n!==i)}visitScrolledToSamePageLocation(e,t){this.delegate.visitScrolledToSamePageLocation(e,t)}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}getActionForFormSubmission(e){const{formElement:t,submitter:n}=e,i=L("data-turbo-action",n,t);return K(i)?i:"advance"}}!function(e){e[e.initial=0]="initial",e[e.loading=1]="loading",e[e.interactive=2]="interactive",e[e.complete=3]="complete"}(He||(He={}));class Ue{constructor(e){this.stage=He.initial,this.started=!1,this.interpretReadyState=(()=>{const{readyState:e}=this;"interactive"==e?this.pageIsInteractive():"complete"==e&&this.pageIsComplete()}),this.pageWillUnload=(()=>{this.delegate.pageWillUnload()}),this.delegate=e}start(){this.started||(this.stage==He.initial&&(this.stage=He.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}pageIsInteractive(){this.stage==He.loading&&(this.stage=He.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==He.interactive&&(this.stage=He.complete,this.delegate.pageLoaded())}get readyState(){return document.readyState}}class Ve{constructor(e){this.started=!1,this.onScroll=(()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})}),this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}updatePosition(e){this.delegate.scrollPositionChanged(e)}}class We{constructor(e){this.sources=new Set,this.started=!1,this.inspectFetchResponse=(e=>{const t=X(e);t&&Y(t)&&(e.preventDefault(),this.receiveMessageResponse(t))}),this.receiveMessageEvent=(e=>{this.started&&"string"==typeof e.data&&this.receiveMessageHTML(e.data)}),this.delegate=e}start(){this.started||(this.started=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources["delete"](e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(new we(e))}}class Je extends Ie{async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t,body:n}=document;e.replaceChild(this.newHead,t),e.replaceChild(this.newElement,n)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const n=this.createScriptElement(e);t.replaceChild(n,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return[...document.documentElement.querySelectorAll("script")]}}class Ke extends Ie{get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}prepareToRender(){this.mergeHead()}async render(){this.willRender&&this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}mergeHead(){this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()}replaceBody(){this.preservingPermanentElements(()=>{this.activateNewBody(),this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}copyNewHeadStylesheetElements(){for(const e of this.newHeadStylesheetElements)document.head.appendChild(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(this.createScriptElement(e))}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.activateNewBodyScriptElements()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=this.createScriptElement(e);e.replaceWith(t)}}assignNewBody(){document.body&&this.newElement instanceof HTMLBodyElement?document.body.replaceWith(this.newElement):document.documentElement.appendChild(this.newElement)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class Xe{constructor(e){this.keys=[],this.snapshots={},this.size=e}has(e){return m(e)in this.snapshots}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){this.snapshots={}}read(e){return this.snapshots[m(e)]}write(e,t){this.snapshots[m(e)]=t}touch(e){const t=m(e),n=this.keys.indexOf(t);n>-1&&this.keys.splice(n,1),this.keys.unshift(t),this.trim()}trim(){for(const e of this.keys.splice(this.size))delete this.snapshots[e]}}class Ye extends ke{constructor(){super(...arguments),this.snapshotCache=new Xe(10),this.lastRenderedLocation=new URL(location.href)}renderPage(e,t=!1,n=!0){const i=new Ke(this.snapshot,e,t,n);return this.render(i)}renderError(e){const t=new Je(this.snapshot,e,!1);return this.render(t)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(){if(this.shouldCacheSnapshot){this.delegate.viewWillCacheSnapshot();const{snapshot:e,lastRenderedLocation:t}=this;await w();const n=e.clone();return this.snapshotCache.put(t,n),n}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}get snapshot(){return Be.fromElement(this.element)}get shouldCacheSnapshot(){return this.snapshot.isCacheable}}class Ge{constructor(){this.navigator=new ze(this),this.history=new qe(this),this.view=new Ye(this,document.documentElement),this.adapter=new Oe(this),this.pageObserver=new Ue(this),this.cacheObserver=new Fe,this.linkClickObserver=new je(this),this.formSubmitObserver=new $e(this),this.scrollObserver=new Ve(this),this.streamObserver=new We(this),this.frameRedirector=new De(document.documentElement),this.drive=!0,this.enabled=!0,this.progressBarDelay=500,this.started=!1}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){this.navigator.proposeVisit(r(e),t)}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){document.documentElement.appendChild(we.wrap(e).fragment)}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){this.progressBarDelay=e}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}historyPoppedToLocationWithRestorationIdentifier(e,t){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0}):this.adapter.pageInvalidated()}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willFollowLinkToLocation(e,t){return this.elementDriveEnabled(e)&&d(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t)}followedLinkToLocation(e,t){const n=this.getActionForLink(e);this.convertLinkWithMethodClickToFormSubmission(e)||this.visit(t.href,{action:n})}convertLinkWithMethodClickToFormSubmission(e){const t=e.getAttribute("data-turbo-method");if(t){const n=document.createElement("form");n.method=t,n.action=e.getAttribute("href")||"undefined",n.hidden=!0,e.hasAttribute("data-turbo-confirm")&&n.setAttribute("data-turbo-confirm",e.getAttribute("data-turbo-confirm"));const i=this.getTargetFrameForLink(e);return i?(n.setAttribute("data-turbo-frame",i),n.addEventListener("turbo:submit-start",()=>n.remove())):n.addEventListener("submit",()=>n.remove()),document.body.appendChild(n),y("submit",{cancelable:!0,target:n})}return!1}allowsVisitingLocationWithAction(e,t){return this.locationWithActionIsSamePage(e,t)||this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){G(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){G(e.location),e.silent||this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}locationWithActionIsSamePage(e,t){return this.navigator.locationWithActionIsSamePage(e,t)}visitScrolledToSamePageLocation(e,t){this.notifyApplicationAfterVisitingSamePageLocation(e,t)}willSubmitForm(e,t){const n=a(e,t);return this.elementDriveEnabled(e)&&(!t||this.elementDriveEnabled(t))&&d(r(n),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){var e;(null===(e=this.navigator.currentVisit)||void 0===e?void 0:e.silent)||this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){return!this.notifyApplicationBeforeRender(e,t).defaultPrevented}viewRenderedSnapshot(e,t){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender()}viewInvalidated(){this.adapter.pageInvalidated()}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t){return!this.notifyApplicationAfterClickingLinkToLocation(e,t).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t){return y("turbo:click",{target:e,detail:{url:t.href},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return y("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return C(document.documentElement),y("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return y("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return y("turbo:before-render",{detail:{newBody:e,resume:t},cancelable:!0})}notifyApplicationAfterRender(){return y("turbo:render")}notifyApplicationAfterPageLoad(e={}){return I(document.documentElement),y("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterVisitingSamePageLocation(e,t){dispatchEvent(new HashChangeEvent("hashchange",{oldURL:e.toString(),newURL:t.toString()}))}notifyApplicationAfterFrameLoad(e){return y("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return y("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}elementDriveEnabled(e){const t=null==e?void 0:e.closest("[data-turbo]");return this.drive?!t||"false"!=t.getAttribute("data-turbo"):!!t&&"true"==t.getAttribute("data-turbo")}getActionForLink(e){const t=e.getAttribute("data-turbo-action");return K(t)?t:"advance"}getTargetFrameForLink(e){const t=e.getAttribute("data-turbo-frame");if(t)return t;{const t=e.closest("turbo-frame");if(t)return t.id}}get snapshot(){return this.view.snapshot}}const Ze={absoluteURL:{get(){return this.toString()}}},Qe=new Ge,{navigator:et}=Qe;var tt=Object.freeze({__proto__:null,navigator:et,session:Qe,PageRenderer:Ke,PageSnapshot:Be,start:Z,registerAdapter:Q,visit:ee,connectStreamSource:te,disconnectStreamSource:ne,renderStreamMessage:ie,clearCache:re,setProgressBarDelay:oe,setConfirmMethod:ae});class nt{constructor(e){this.fetchResponseLoaded=(()=>{}),this.currentFetchRequest=null,this.resolveVisitPromise=(()=>{}),this.connected=!1,this.hasBeenLoaded=!1,this.settingSourceURL=!1,this.element=e,this.view=new Te(this,this.element),this.appearanceObserver=new be(this,this.element),this.linkInterceptor=new Le(this,this.element),this.formInterceptor=new _e(this,this.element)}connect(){this.connected||(this.connected=!0,this.reloadable=!1,this.loadingStyle==de.lazy&&this.appearanceObserver.start(),this.linkInterceptor.start(),this.formInterceptor.start(),this.sourceURLChanged())}disconnect(){this.connected&&(this.connected=!1,this.appearanceObserver.stop(),this.linkInterceptor.stop(),this.formInterceptor.stop())}disabledChanged(){this.loadingStyle==de.eager&&this.loadSourceURL()}sourceURLChanged(){(this.loadingStyle==de.eager||this.hasBeenLoaded)&&this.loadSourceURL()}loadingStyleChanged(){this.loadingStyle==de.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.loadSourceURL())}async loadSourceURL(){if(!this.settingSourceURL&&this.enabled&&this.isActive&&(this.reloadable||this.sourceURL!=this.currentURL)){const t=this.currentURL;if(this.currentURL=this.sourceURL,this.sourceURL)try{this.element.loaded=this.visit(r(this.sourceURL)),
this.appearanceObserver.stop(),await this.element.loaded,this.hasBeenLoaded=!0}catch(e){throw this.currentURL=t,e}}}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const n=await e.responseHTML;if(n){const{body:t}=S(n),i=new Se(await this.extractForeignFrameElement(t)),r=new Ae(this.view.snapshot,i,!1,!1);this.view.renderPromise&&await this.view.renderPromise,await this.view.render(r),Qe.frameRendered(e,this.element),Qe.frameLoaded(this.element),this.fetchResponseLoaded(e)}}catch(t){console.error(t),this.view.invalidate()}finally{this.fetchResponseLoaded=(()=>{})}}elementAppearedInViewport(e){this.loadSourceURL()}shouldInterceptLinkClick(e,t){return!e.hasAttribute("data-turbo-method")&&this.shouldInterceptNavigation(e)}linkClickIntercepted(e,t){this.reloadable=!0,this.navigateFrame(e,t)}shouldInterceptFormSubmission(e,t){return this.shouldInterceptNavigation(e,t)}formSubmissionIntercepted(e,t){this.formSubmission&&this.formSubmission.stop(),this.reloadable=!1,this.formSubmission=new Ee(this,e,t);const{fetchRequest:n}=this.formSubmission;this.prepareHeadersForRequest(n.headers,n),this.formSubmission.start()}prepareHeadersForRequest(e,t){e["Turbo-Frame"]=this.id}requestStarted(e){C(this.element)}requestPreventedHandlingResponse(e,t){this.resolveVisitPromise()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.resolveVisitPromise()}requestFailedWithResponse(e,t){console.error(t),this.resolveVisitPromise()}requestErrored(e,t){console.error(t),this.resolveVisitPromise()}requestFinished(e){I(this.element)}formSubmissionStarted({formElement:e}){C(e,this.findFrameElement(e))}formSubmissionSucceededWithResponse(e,t){const n=this.findFrameElement(e.formElement,e.submitter);this.proposeVisitIfNavigatedWithAction(n,e.formElement,e.submitter),n.delegate.loadResponse(t)}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t)}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){I(e,this.findFrameElement(e))}allowsImmediateRender(e,t){return!0}viewRenderedSnapshot(e,t){}viewInvalidated(){}async visit(e){var t;const n=new ye(this,ue.get,e,new URLSearchParams,this.element);return null===(t=this.currentFetchRequest)||void 0===t||t.cancel(),this.currentFetchRequest=n,new Promise(e=>{this.resolveVisitPromise=(()=>{this.resolveVisitPromise=(()=>{}),this.currentFetchRequest=null,e()}),n.perform()})}navigateFrame(e,t,n){const i=this.findFrameElement(e,n);this.proposeVisitIfNavigatedWithAction(i,e,n),i.setAttribute("reloadable",""),i.src=t}proposeVisitIfNavigatedWithAction(e,t,n){const i=L("data-turbo-action",n,t,e);if(K(i)){const{visitCachedSnapshot:t}=new it(e);e.delegate.fetchResponseLoaded=(n=>{if(e.src){const{statusCode:r,redirected:o}=n,a={statusCode:r,redirected:o,responseHTML:e.ownerDocument.documentElement.outerHTML};Qe.visit(e.src,{action:i,response:a,visitCachedSnapshot:t,willRender:!1})}})}}findFrameElement(e,t){var n;return null!==(n=se(L("data-turbo-frame",t,e)||this.element.getAttribute("target")))&&void 0!==n?n:this.element}async extractForeignFrameElement(e){let t;const n=CSS.escape(this.id);try{if(t=ce(e.querySelector(`turbo-frame#${n}`),this.currentURL))return t;if(t=ce(e.querySelector(`turbo-frame[src][recurse~=${n}]`),this.currentURL))return await t.loaded,await this.extractForeignFrameElement(t);console.error(`Response has no matching <turbo-frame id="${n}"> element`)}catch(i){console.error(i)}return new ge}formActionIsVisitable(e,t){return d(r(a(e,t)),this.rootLocation)}shouldInterceptNavigation(e,t){const n=L("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.formActionIsVisitable(e,t))return!1;if(!this.enabled||"_top"==n)return!1;if(n){const e=se(n);if(e)return!e.disabled}return!!Qe.elementDriveEnabled(e)&&!(t&&!Qe.elementDriveEnabled(t))}get id(){return this.element.id}get enabled(){return!this.element.disabled}get sourceURL(){if(this.element.src)return this.element.src}get reloadable(){return this.findFrameElement(this.element).hasAttribute("reloadable")}set reloadable(e){const t=this.findFrameElement(this.element);e?t.setAttribute("reloadable",""):t.removeAttribute("reloadable")}set sourceURL(e){this.settingSourceURL=!0,this.element.src=null!=e?e:null,this.currentURL=this.element.src,this.settingSourceURL=!1}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==undefined||this.resolveVisitPromise()!==undefined}get isActive(){return this.element.isActive&&this.connected}get rootLocation(){var e;const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]');return r(null!==(e=null==t?void 0:t.content)&&void 0!==e?e:"/")}}class it{constructor(e){this.visitCachedSnapshot=(({element:e})=>{var t;const{id:n,clone:i}=this;null===(t=e.querySelector("#"+n))||void 0===t||t.replaceWith(i)}),this.clone=e.cloneNode(!0),this.id=e.id}}const rt={after(){this.targetElements.forEach(e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e.nextSibling)})},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(e=>e.append(this.templateContent))},before(){this.targetElements.forEach(e=>{var t;return null===(t=e.parentElement)||void 0===t?void 0:t.insertBefore(this.templateContent,e)})},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(e=>e.prepend(this.templateContent))},remove(){this.targetElements.forEach(e=>e.remove())},replace(){this.targetElements.forEach(e=>e.replaceWith(this.templateContent))},update(){this.targetElements.forEach(e=>{e.innerHTML="",e.append(this.templateContent)})}};class ot extends HTMLElement{async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){var e;return null!==(e=this.renderPromise)&&void 0!==e?e:this.renderPromise=(async()=>{this.dispatchEvent(this.beforeRenderEvent)&&(await b(),this.performAction())})()}disconnect(){try{this.remove()}catch(e){}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){var e;const t=this.targetElements.flatMap(e=>[...e.children]).filter(e=>!!e.id),n=[...null===(e=this.templateContent)||void 0===e?void 0:e.children].filter(e=>!!e.id).map(e=>e.id);return t.filter(e=>n.includes(e.id))}get performAction(){if(this.action){const e=rt[this.action];if(e)return e;this.raise("unknown action")}this.raise("action attribute is missing")}get targetElements(){return this.target?this.targetElementsById:this.targets?this.targetElementsByQuery:void this.raise("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.raise("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}raise(e){throw new Error(`${this.description}: ${e}`)}get description(){var e,t;return null!==(t=(null!==(e=this.outerHTML.match(/<[^>]+>/))&&void 0!==e?e:[])[0])&&void 0!==t?t:"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0})}get targetElementsById(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.getElementById(this.target);return null!==t?[t]:[]}get targetElementsByQuery(){var e;const t=null===(e=this.ownerDocument)||void 0===e?void 0:e.querySelectorAll(this.targets);return 0!==t.length?Array.prototype.slice.call(t):[]}}ge.delegateConstructor=nt,customElements.define("turbo-frame",ge),customElements.define("turbo-stream",ot),(()=>{let e=document.currentScript;if(e&&!e.hasAttribute("data-turbo-suppress-warning"))for(;e=e.parentElement;)if(e==document.body)return console.warn(_`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        ——
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,e.outerHTML)})(),window.Turbo=tt,Z(),e.PageRenderer=Ke,e.PageSnapshot=Be,e.clearCache=re,e.connectStreamSource=te,e.disconnectStreamSource=ne,e.navigator=et,e.registerAdapter=Q,e.renderStreamMessage=ie,e.session=Qe,e.setConfirmMethod=ae,e.setProgressBarDelay=oe,e.start=Z,e.visit=ee,Object.defineProperty(e,"__esModule",{value:!0})}),function(e,t){"function"==typeof define&&define.amd?define("i18n",function(){return t(e)}):"object"==typeof module&&module.exports?module.exports=t(e):e.I18n=t(e)}(this,function(e){"use strict";var t=e&&e.I18n||{},n=Array.prototype.slice,i=function(e){return("0"+e.toString()).substr(-2)},r=function(e,t){return h("round",e,-t).toFixed(t)},o=function(e){var t=typeof e;return"function"===t||"object"===t},a=function(e){return"function"===typeof e},s=function(e){return null!=e},c=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},l=function(e){return"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)},d=function(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)},u=function(e){return!0===e||!1===e},m=function(e){return null===e},h=function(e,t,n){return void 0===n||0==+n?Math[e](t):(t=+t,n=+n,isNaN(t)||"number"!=typeof n||n%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math[e](+(t[0]+"e"+(t[1]?+t[1]-n:-n)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+n:n))))},p=function(e,t){return a(e)?e(t):e},f=function(e,t){var n,i;for(n in t)t.hasOwnProperty(n)&&(i=t[n],l(i)||d(i)||u(i)||c(i)||m(i)?e[n]=i:(null==e[n]&&(e[n]={}),f(e[n],i)));return e},g={day_names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbr_day_names:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],month_names:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbr_month_names:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridian:["AM","PM"]},v={precision:3,separator:".",delimiter:",",strip_insignificant_zeros:!1},y={unit:"$",precision:2,format:"%u%n",sign_first:!0,delimiter:",",separator:"."},b={unit:"%",precision:3,format:"%n%u",separator:".",delimiter:""},w=[null,"kb","mb","gb","tb"],E={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,fallbacks:!1,translations:{},missingBehaviour:"message",missingTranslationPrefix:""};return t.reset=function(){var e;for(e in E)this[e]=E[e]},t.initializeOptions=function(){var e;for(e in E)s(this[e])||(this[e]=E[e])},t.initializeOptions(),t.locales={},t.locales.get=function(e){var n=this[e]||this[t.locale]||this["default"];return a(n)&&(n=n(e)),!1===c(n)&&(n=[n]),n},t.locales["default"]=function(e){var n=[],i=[];return e&&n.push(e),!e&&t.locale&&n.push(t.locale),t.fallbacks&&t.defaultLocale&&n.push(t.defaultLocale),n.forEach(function(e){var n=e.split("-"),r=null,o=null;3===n.length?(r=[n[0],n[1]].join("-"),o=n[0]):2===n.length&&(r=n[0]),-1===i.indexOf(e)&&i.push(e),t.fallbacks&&[r,o].forEach(function(t){null!=t&&t!==e&&-1===i.indexOf(t)&&i.push(t)})}),n.length||n.push("en"),i},t.pluralization={},t.pluralization.get=function(e){return this[e]||this[t.locale]||this["default"]},t.pluralization["default"]=function(e){switch(e){case 0:return["zero","other"];case 1:return["one"];default:return["other"]}},t.currentLocale=function(){return this.locale||this.defaultLocale},t.isSet=s,t.lookup=function(e,t){t=t||{};var n,i,r,o,a=this.locales.get(t.locale).slice();for(r=this.getFullScope(e,t);a.length;)if(n=a.shift(),i=r.split(t.separator||this.defaultSeparator),o=this.translations[n]){for(;i.length&&(o=o[i.shift()])!==undefined&&null!==o;);if(o!==undefined&&null!==o)return o}if(s(t.defaultValue))return p(t.defaultValue,e)},t.pluralizationLookupWithoutFallback=function(e,t,n){var i,r,a=this.pluralization.get(t)(e);if(n&&o(n))for(;a.length;)if(i=a.shift(),s(n[i])){r=n[i];break}return r},t.pluralizationLookup=function(e,t,n){n=n||{};var i,r,a,c,l=this.locales.get(n.locale).slice();for(t=this.getFullScope(t,n);l.length;)if(i=l.shift(),r=t.split(n.separator||this.defaultSeparator),a=this.translations[i]){for(;r.length&&(a=a[r.shift()],o(a));)0===r.length&&(c=this.pluralizationLookupWithoutFallback(e,i,a));if(null!=c)break}return null==c&&s(n.defaultValue)&&(c=o(n.defaultValue)?this.pluralizationLookupWithoutFallback(e,n.locale,n.defaultValue):n.defaultValue,a=n.defaultValue),{message:c,translations:a}},t.meridian=function(){var e=this.lookup("time"),t=this.lookup("date");return e&&e.am&&e.pm?[e.am,e.pm]:t&&t.meridian?t.meridian:g.meridian},t.prepareOptions=function(){for(var e,t=n.call(arguments),i={};t.length;)if("object"==typeof(e=t.shift()))for(var r in e)e.hasOwnProperty(r)&&(s(i[r])||(i[r]=e[r]));return i},t.createTranslationOptions=function(e,t){var n=[{scope:e}];return s(t.defaults)&&(n=n.concat(t.defaults)),s(t.defaultValue)&&n.push({message:t.defaultValue}),n},t.translate=function(e,t){t=t||{};var n,i=this.createTranslationOptions(e,t),r=e,a=this.prepareOptions(t);return delete a.defaultValue,i.some(function(t){if(s(t.scope)?(r=t.scope,n=this.lookup(r,a)):s(t.message)&&(n=p(t.message,e)),n!==undefined&&null!==n)return!0},this)?("string"==typeof n?n=this.interpolate(n,t):c(n)?n=n.map(function(e){return"string"==typeof e?this.interpolate(e,t):e},this):o(n)&&s(t.count)&&(n=this.pluralize(t.count,r,t)),n):this.missingTranslation(e,t)},t.interpolate=function(e,t){if(null==e)return e;t=t||{};var n,i,r,o,a=e.match(this.placeholder);if(!a)return e;for(;a.length;)r=(n=a.shift()).replace(this.placeholder,"$1"),i=s(t[r])?t[r].toString().replace(/\$/gm,"_#$#_"):r in t?this.nullPlaceholder(n,e,t):this.missingPlaceholder(n,e,t),o=new RegExp(n.replace(/{/gm,"\\{").replace(/}/gm,"\\}")),e=e.replace(o,i);return e.replace(/_#\$#_/g,"$")},t.pluralize=function(e,t,n){var i,r;return n=this.prepareOptions({count:String(e)},n),"undefined"==typeof(r=this.pluralizationLookup(e,t,n)).translations||null==r.translations?this.missingTranslation(t,n):"undefined"!=typeof r.message&&null!=r.message?this.interpolate(r.message,n):(i=this.pluralization.get(n.locale),this.missingTranslation(t+"."+i(e)[0],n))},t.missingTranslation=function(e,t){if("guess"===this.missingBehaviour){var n=e.split(".").slice(-1)[0];return(this.missingTranslationPrefix.length>0?this.missingTranslationPrefix:"")+n.replace(/_/g," ").replace(/([a-z])([A-Z])/g,function(e,t,n){return t+" "+n.toLowerCase()})}return'[missing "'+[null!=t&&null!=t.locale?t.locale:this.currentLocale(),this.getFullScope(e,t)].join(t.separator||this.defaultSeparator)+'" translation]'},t.missingPlaceholder=function(e){return"[missing "+e+" value]"},t.nullPlaceholder=function(){return t.missingPlaceholder.apply(t,arguments)},t.toNumber=function(e,t){t=this.prepareOptions(t,this.lookup("number.format"),v);var n,i,o=e<0,a=r(Math.abs(e),t.precision).toString().split("."),s=[],c=t.format||"%n",l=o?"-":"";for(e=a[0],n=a[1];e.length>0;)s.unshift(e.substr(Math.max(0,e.length-3),3)),e=e.substr(0,e.length-3);return i=s.join(t.delimiter),t.strip_insignificant_zeros&&n&&(n=n.replace(/0+$/,"")),t.precision>0&&n&&(i+=t.separator+n),i=(c=t.sign_first?"%s"+c:c.replace("%n","%s%n")).replace("%u",t.unit).replace("%n",i).replace("%s",l)},t.toCurrency=function(e,t){return t=this.prepareOptions(t,this.lookup("number.currency.format",t),this.lookup("number.format",t),y),this.toNumber(e,t)},t.localize=function(e,t,n){switch(n||(n={}),e){case"currency":return this.toCurrency(t,n);case"number":return e=this.lookup("number.format",n),this.toNumber(t,e);case"percentage":return this.toPercentage(t,n);default:var i;return i=e.match(/^(date|time)/)?this.toTime(e,t,n):t.toString(),this.interpolate(i,n)}},t.parseDate=function(e){var t,n,i;if(null==e)return e;if("object"==typeof e)return e;if(t=e.toString().match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})([\.,]\d{1,3})?)?(Z|\+00:?00)?/)){for(var r=1;r<=6;r++)t[r]=parseInt(t[r],10)||0;t[2]-=1,i=t[7]?1e3*("0"+t[7]):null,n=t[8]?new Date(Date.UTC(t[1],t[2],t[3],t[4],t[5],t[6],i)):new Date(t[1],t[2],t[3],t[4],t[5],t[6],i)}else"number"==typeof e?(n=new Date).setTime(e):e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)?(n=new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" "))):(e.match(/\d+ \d+:\d+:\d+ [+-]\d+ \d+/),(n=new Date).setTime(Date.parse(e)));return n},t.strftime=function(e,n,r){r=this.lookup("date",r);var o=t.meridian();if(r||(r={}),r=this.prepareOptions(r,g),isNaN(e.getTime()))throw new Error("I18n.strftime() requires a valid date object, but received an invalid date.");var a=e.getDay(),s=e.getDate(),c=e.getFullYear(),l=e.getMonth()+1,d=e.getHours(),u=d,m=d>11?1:0,h=e.getSeconds(),p=e.getMinutes(),f=e.getTimezoneOffset(),v=Math.floor(Math.abs(f/60)),y=Math.abs(f)-60*v,b=(f>0?"-":"+")+(v.toString().length<2?"0"+v:v)+(y.toString().length<2?"0"+y:y);return u>12?u-=12:0===u&&(u=12),n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=(n=n.replace("%a",r.abbr_day_names[a])).replace("%A",r.day_names[a])).replace("%b",r.abbr_month_names[l])).replace("%B",r.month_names[l])).replace("%d",i(s))).replace("%e",s)).replace("%-d",s)).replace("%H",i(d))).replace("%-H",d)).replace("%k",d)).replace("%I",i(u))).replace("%-I",u)).replace("%l",u)).replace("%m",i(l))).replace("%-m",l)).replace("%M",i(p))).replace("%-M",p)).replace("%p",o[m])).replace("%P",o[m].toLowerCase())).replace("%S",i(h))).replace("%-S",h)).replace("%w",a)).replace("%y",i(c))).replace("%-y",i(c).replace(/^0+/,""))).replace("%Y",c)).replace("%z",b)).replace("%Z",b)},t.toTime=function(e,t,n){var i=this.parseDate(t),r=this.lookup(e,n);if(null==i)return i;var o=i.toString();return o.match(/invalid/i)?o:r?this.strftime(i,r,n):o},t.toPercentage=function(e,t){return t=this.prepareOptions(t,this.lookup("number.percentage.format",t),this.lookup("number.format",t),b),this.toNumber(e,t)},t.toHumanSize=function(e,t){for(var n,i,r,o=1024,a=e,s=0;a>=o&&s<4;)a/=o,s+=1;return 0===s?(r=this.getFullScope("number.human.storage_units.units.byte",t),n=this.t(r,{count:a}),i=0):(r=this.getFullScope("number.human.storage_units.units."+w[s],t),n=this.t(r),i=a-Math.floor(a)==0?0:1),t=this.prepareOptions(t,{unit:n,precision:i,format:"%n%u",delimiter:""}),this.toNumber(a,t)},t.getFullScope=function(e,t){return t=t||{},c(e)&&(e=e.join(t.separator||this.defaultSeparator)),t.scope&&(e=[t.scope,e].join(t.separator||this.defaultSeparator)),e},t.extend=function(e,t){return void 0===e&&void 0===t?{}:f(e,t)},t.t=t.translate.bind(t),t.l=t.localize.bind(t),t.p=t.pluralize.bind(t),t}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ahoy=t()}(this,function(){"use strict";function e(){return A.urlPrefix+A.visitsUrl}function t(){return A.urlPrefix+A.eventsUrl}function n(e){return 0===Object.keys(e).length}function i(){return(A.useBeacon||A.trackNow)&&n(A.headers)&&O&&"undefined"!=typeof window.navigator.sendBeacon&&!A.withCredentials}function r(e){var t=new FormData;for(var n in e)e.hasOwnProperty(n)&&t.append(n,e[n]);return t}function o(e,t,n){I.set(e,t,n,A.cookieDomain||A.domain)}function a(e){return I.get(e)}function s(e){I.set(e,"",-1)}function c(e){a("ahoy_debug")&&window.console.log(e)}function l(){for(var e;e=N.shift();)e();H=!0}function d(e,t){var n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return n?n.apply(e,[t])?e:e.parentElement?d(e.parentElement,t):null:(c("Unable to match"),null)}function u(e,t,n){document.addEventListener(e,function(e){var i=d(e.target,t);i&&n.call(i,e)})}function m(e){"interactive"===document.readyState||"complete"===document.readyState?setTimeout(e,0):document.addEventListener("DOMContentLoaded",e)}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function p(){A.cookies&&O&&o("ahoy_events",JSON.stringify(F),1)}function f(){var e=document.querySelector("meta[name=csrf-token]");return e&&e.content}function g(){var e=document.querySelector("meta[name=csrf-param]");return e&&e.content}function v(e){var t=f();t&&e.setRequestHeader("X-CSRF-Token",t)}function y(e,t,n){if(O)if(P&&P.ajax)P.ajax({type:"POST",url:e,data:JSON.stringify(t),contentType:"application/json; charset=utf-8",dataType:"json",beforeSend:v,success:n,headers:A.headers,xhrFields:{withCredentials:A.withCredentials}});else{var i=new XMLHttpRequest;for(var r in i.open("POST",e,!0),i.withCredentials=A.withCredentials,i.setRequestHeader("Content-Type","application/json"),A.headers)A.headers.hasOwnProperty(r)&&i.setRequestHeader(r,A.headers[r]);i.onload=function(){200===i.status&&n()},v(i),i.send(JSON.stringify(t))}}function b(e){var t={events:[e]};return A.cookies&&(t.visit_token=e.visit_token,t.visitor_token=e.visitor_token),delete e.visit_token,delete e.visitor_token,t}function w(e){x.ready(function(){y(t(),b(e),function(){for(var t=0;t<F.length;t++)if(F[t].id==e.id){F.splice(t,1);break}p()})})}function E(e){x.ready(function(){var n=b(e),i=g(),o=f();i&&o&&(n[i]=o),n.events_json=JSON.stringify(n.events),delete n.events,window.navigator.sendBeacon(t(),r(n))})}function S(){return A.page||window.location.pathname}function _(e){return e&&e.length>0?e:null}function k(e){for(var t in e)e.hasOwnProperty(t)&&null===e[t]&&delete e[t];return e}function T(){return k({tag:this.tagName.toLowerCase(),id:_(this.id),"class":_(this.className),page:S(),section:L(this)})}function L(e){for(;e&&e!==document;e=e.parentNode)if(e.hasAttribute("data-section"))return e.getAttribute("data-section");return null}function C(){if(H=!1,R=x.getVisitId(),B=x.getVisitorId(),M=a("ahoy_track"),!1===A.cookies||!1===A.trackVisits)c("Visit tracking disabled"),l();else if(R&&B&&!M)c("Active visit"),l();else if(R||o("ahoy_visit",R=h(),A.visitDuration),a("ahoy_visit")){c("Visit started"),B||o("ahoy_visitor",B=h(),A.visitorDuration);var t={visit_token:R,visitor_token:B,platform:A.platform,landing_page:window.location.href,screen_width:window.screen.width,screen_height:window.screen.height,js:!0};for(var n in document.referrer.length>0&&(t.referrer=document.referrer),A.visitParams)A.visitParams.hasOwnProperty(n)&&(t[n]=A.visitParams[n]);c(t),y(e(),t,function(){s("ahoy_track"),l()})}else c("Cookies disabled"),l()}var I={set:function(e,t,n,i){var r="",o="";if(n){var a=new Date;a.setTime(a.getTime()+60*n*1e3),r="; expires="+a.toGMTString()}i&&(o="; domain="+i),document.cookie=e+"="+escape(t)+r+o+"; path=/; samesite=lax"},get:function(e){var t,n,i=e+"=",r=document.cookie.split(";");for(t=0;t<r.length;t++){for(n=r[t];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return unescape(n.substring(i.length,n.length))}return null}},A={urlPrefix:"",visitsUrl:"/ahoy/visits",eventsUrl:"/ahoy/events",page:null,platform:"Web",useBeacon:!0,startOnReady:!0,trackVisits:!0,cookies:!0,cookieDomain:null,headers:{},visitParams:{},withCredentials:!1,visitDuration:240,visitorDuration:1051200},x=window.ahoy||window.Ahoy||{};x.configure=function(e){for(var t in e)e.hasOwnProperty(t)&&(A[t]=e[t])},x.configure(x);var R,B,M,P=window.jQuery||window.Zepto||window.$,H=!1,N=[],O="undefined"!=typeof JSON&&"undefined"!=typeof JSON.stringify,F=[];x.ready=function(e){H?e():N.push(e)},x.getVisitId=x.getVisitToken=function(){return a("ahoy_visit")},x.getVisitorId=x.getVisitorToken=function(){return a("ahoy_visitor")},x.reset=function(){return s("ahoy_visit"),s("ahoy_visitor"),s("ahoy_events"),s("ahoy_track"),!0},x.debug=function(e){return!1===e?s("ahoy_debug"):o("ahoy_debug","t",525600),!0},x.track=function(e,t){var n={name:e,properties:t||{},time:(new Date).getTime()/1e3,id:h(),js:!0};return x.ready(function(){A.cookies&&!x.getVisitId()&&C(),x.ready(function(){c(n),n.visit_token=x.getVisitId(),n.visitor_token=x.getVisitorId(),i()?E(n):(F.push(n),p(),setTimeout(function(){w(n)},1e3))})}),!0},x.trackView=function(e){var t={url:window.location.href,title:document.title,page:S()};if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);x.track("$view",t)},x.trackClicks=function(e){if(e===undefined)throw new Error("Missing selector");u("click",e,function(e){var t=T.call(this,e);t.text="input"==t.tag?this.value:(this.textContent||this.innerText||this.innerHTML).replace(/[\s\r\n]+/g," ").trim(),t.href=this.href,x.track("$click",t)})},x.trackSubmits=function(e){if(e===undefined)throw new Error("Missing selector");u("submit",e,function(e){var t=T.call(this,e);x.track("$submit",t)})},x.trackChanges=function(e){if(c("trackChanges is deprecated and will be removed in 0.5.0"),e===undefined)throw new Error("Missing selector");u("change",e,function(e){var t=T.call(this,e);x.track("$change",t)})};try{F=JSON.parse(a("ahoy_events")||"[]")}catch(D){}for(var $=0;$<F.length;$++)w(F[$]);return x.start=function(){C(),x.start=function(){}},m(function(){A.startOnReady&&x.start()}),x}),Turbo.session.drive=!1,I18n.defaultLocale="en",I18n.locale=document.body.dataset.locale,I18n.translations=JSON.parse(document.getElementById("i18n-translations").dataset.translations);var instantClick,InstantClick=instantClick=function(e,t,n){function i(e){var t=e.indexOf("#");return t<0?e:e.substr(0,t)}function r(e){for(;e&&"A"!=e.nodeName;)e=e.parentNode;return e}function o(e){do{if(!e.hasAttribute)break;if(e.hasAttribute("data-instant"))return!1;if(e.hasAttribute("data-no-instant"))return!0}while(e=e.parentNode);return!1}function a(e){var n=t.protocol+"//"+t.host;return!(e.target||e.hasAttribute("download")||0!=e.href.indexOf(n+"/")||e.href.indexOf("#")>-1&&i(e.href)==I||o(e))}function s(e,t,n,i){for(var r=!1,o=0;o<U[e].length;o++)if("receive"==e){var a=U[e][o](t,n,i);a&&("body"in a&&(n=a.body),"title"in a&&(i=a.title),r=a)}else U[e][o](t,n,i);return r}function c(t,n,r,o,a){var c=e.getElementById("page-content"),l=e.getElementById("member-menu-button");if(l&&l.classList.remove("showing"),e.body.replaceChild(n,c),e.getElementById("navigation-progress").classList.remove("showing"),r){const n=e.getElementById("route-change-target");n&&n.focus(),e.getElementById("page-route-change").textContent=t,history.pushState(null,null,r.replace("?samepage=true","").replace("&samepage=true",""));var d=r.indexOf("#"),u=d>-1&&(e.getElementById(r.substr(d+1))||e.querySelector(`[name=${r.substr(d+1)}].anchor`)),m=0,h=r.indexOf("samepage=true")>-1;if(u)for(;u.offsetParent;)m+=u.offsetTop,u=u.offsetParent;h||scrollTo(0,m),I=i(r)}else scrollTo(0,o);H&&e.title==t?e.title=t+String.fromCharCode(160):e.title=t,w(),a?s("restore"):s("change",!1)}function l(){q=!1,j=!1}function d(e){return e.replace(/<noscript[\s\S]+?<\/noscript>/gi,"")}function u(e){if(!(R>+new Date-500)){var t=r(e.target);t&&a(t)&&E(t.href)}}function m(e){if(!(R>+new Date-500)){var t=r(e.target);t&&a(t)&&(t.addEventListener("mouseout",g),P?(A=t.href,x=setTimeout(E,P)):E(t.href),getImageForLink(t))}}function h(e){R=+new Date;var t=r(e.target);t&&a(t)&&(M?t.removeEventListener("mousedown",u):t.removeEventListener("mouseover",m),E(t.href),getImageForLink(t))}function p(e){var t=r(e.target);t&&a(t)&&(P?(A=t.href,x=setTimeout(E,P)):E(t.href),getImageForLink(t))}function f(e){try{var t=r(e.target);if(!t||!a(t))return;if(e.which>1||e.metaKey||e.ctrlKey)return;k(t.href),e.preventDefault()}catch(n){console.log(n)}}function g(){if(x)return clearTimeout(x),void(x=!1);q&&!j&&(B.abort(),l())}function v(){y(B,O)}function y(t,n){if(!(t.readyState<4)&&0!=t.status){if(D.ready=+new Date-D.start,e.getElementById("page-content")&&200===t.status&&t.getResponseHeader("Content-Type").match(/\/(x|ht|xht)ml/)){var r=e.implementation.createHTMLDocument("");r.documentElement.innerHTML=d(t.responseText);var o=r.title,a=r.getElementById("page-content"),c=s("receive",n,a,o);c&&("body"in c&&(a=c.body),"title"in c&&(o=c.title)),$[n]={body:a,title:o};i(n);for(var l,u,m=r.head.children,h=0,p=0;p<m.length;p++)if((l=m[p]).hasAttribute("data-instant-track")){u=l.getAttribute("href")||l.getAttribute("src")||l.innerHTML;for(var f=0;f<z.length;f++)z[f]==u&&h++}h!=z.length&&(F=!0)}else F=!0;j&&O===n&&(j=!1,k(O))}}function b(){var n=i(t.href);n!=I&&(n in N?(N[I]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},I=n,c(N[n].title,N[n].body,!1,N[n].scrollY,!0)):t.href=t.href)}function w(t){if(e.body&&(e.body.addEventListener("touchstart",h,!0),e.body.addEventListener("focus",p,!0),M?e.body.addEventListener("mousedown",u,!0):e.body.addEventListener("mouseover",m,!0),e.body.addEventListener("click",f,!0)),!t){var n,i,r,o,a,s=e.body.getElementsByTagName("script"),c=[];for(a=0;a<s.length;a++)c.push(s[a]);for(a=0;a<c.length;a++)if((n=c[a])&&!n.hasAttribute("data-no-instant")){i=e.createElement("script");for(var l=0;l<n.attributes.length;l++)i.setAttribute(n.attributes[l].name,n.attributes[l].value);i.textContent=n.textContent,r=n.parentNode,o=n.nextSibling,r.removeChild(n),r.insertBefore(i,o)}}}function E(e,t){if(!(!M&&"display"in D&&+new Date-(D.start+D.display)<100)&&(x&&(clearTimeout(x),x=!1),e||(e=A),!q||e!=O&&!j)){if(q=!0,j=!1,F=!1,D={start:+new Date},-1==e.indexOf("?"))var n=e+"?i=i";else n=e+"&i=i";S(),s("fetch"),$[e]||("force"===t?_(e,function(){y(this,e)}):(O=e,B.open("GET",n),B.send()))}}function S(e){(Object.keys($).length>13||"force"==e)&&($={})}function _(e,t){var n=new XMLHttpRequest;if(-1==e.indexOf("?"))var i=e+"?i=i";else i=e+"&i=i";n.open("GET",i,!0),n.onreadystatechange=function(){4==n.readyState&&"function"==typeof t&&t.apply(n)},n.send()}function k(n){if(O=n,$[n])var i=$[n].body,r=$[n].title;else e.getElementById("navigation-progress").classList.add("showing");if("display"in D||(D.display=+new Date-D.start),x||!q)return x&&O&&O!=n?void(t.href=n):(E(n),s("wait"),void(j=!0));if(j)t.href=n;else if(F)t.href=O;else{if(!i)return s("wait"),void(j=!0);N[I]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset},l(),c(r,i,O)}}function T(n){if(!I)if(V){"mousedown"==n?M=!0:"number"==typeof n&&(P=n),I=i(t.href),N[I]={body:e.getElementById("page-content"),title:e.title,scrollY:pageYOffset};for(var r,o,a=e.head.children,c=0;c<a.length;c++)(r=a[c]).hasAttribute("data-instant-track")&&(o=r.getAttribute("href")||r.getAttribute("src")||r.innerHTML,z.push(o));(B=new XMLHttpRequest).addEventListener("readystatechange",v),w(!0),s("change",!0),addEventListener("popstate",b),C()}else s("change",!0)}function L(e,t){U[e].push(t)}function C(){if("ontouchstart"in e.documentElement){var t=e.createElement("script");t.src="https://dev.to/assets/lib/pulltorefresh-9b56f74a421b6273bdafaa34b17521df12711be7191050b1193dfd958a99a81a.js",e.head.appendChild(t);var n=setInterval(function(){if("undefined"!=typeof PullToRefresh){PullToRefresh.init({mainElement:"body",passive:!0,onRefresh:function(){window.location.reload()}});clearInterval(n)}},1)}}var I,A,x,R,B,M,P,H=n.indexOf(" CriOS/")>-1,N={},O=!1,F=!1,$={},D={},q=!1,j=!1,z=[],U={fetch:[],receive:[],wait:[],change:[],restore:[]},V="pushState"in history&&(!n.match("Android")||n.match("Chrome/")||n.match("Firefox/"))&&"file:"!=t.protocol;return{supported:V,init:T,isPreloadable:a,preload:E,removeExpiredKeys:S,display:k,on:L}}(document,location,navigator.userAgent);Honeybadger.configure({apiKey:document.body.dataset.honeybadgerKey,environment:"production",revision:document.body.dataset.releaseFootprint}),Honeybadger.beforeNotify(function(e){return![/ResizeObserver/i,/MetaMask/i,/MtPopUpList/i,/ChunkLoadError/i].some(t=>t.test(e.message))}),ahoy.configure({cookies:!1,trackVisits:!1}),initializeBaseApp();
//# sourceMappingURL=/assets/base-57fa46444fdec7466e55f4156ba0ae6b69cb53b38c7b47d2511172b2b7554cf9.js.map
